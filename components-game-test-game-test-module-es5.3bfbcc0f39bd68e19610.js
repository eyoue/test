function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(n):s.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,s=!1,r=void 0;try{for(var o,c=t[Symbol.iterator]();!(i=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(a){s=!0,r=a}finally{try{i||null==c.return||c.return()}finally{if(s)throw r}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var s=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"1gqn":function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},KKCa:function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},MCLT:function(t,e,n){var i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++)n[e[i]]=Object.getOwnPropertyDescriptor(t,e[i]);return n},s=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(c(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,r=i.length,o=String(t).replace(s,(function(t){if("%%"===t)return"%";if(n>=r)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}})),a=i[n];n<r;a=i[++n])d(a)||!_(a)?o+=" "+a:o+=" "+c(a);return o},e.deprecate=function(t,n){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),i=!0}return t.apply(this,arguments)}};var r,o={};function c(t,n){var i={seen:[],stylize:u};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),b(n)?i.showHidden=n:n&&e._extend(i,n),w(i.showHidden)&&(i.showHidden=!1),w(i.depth)&&(i.depth=2),w(i.colors)&&(i.colors=!1),w(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=a),l(i,t,i.depth)}function a(t,e){var n=c.styles[e];return n?"\x1b["+c.colors[n][0]+"m"+t+"\x1b["+c.colors[n][1]+"m":t}function u(t,e){return t}function l(t,n,i){if(t.customInspect&&n&&C(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var s=n.inspect(i,t);return m(s)||(s=l(t,s,i)),s}var r=function(t,e){if(w(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return h(e)?t.stylize(""+e,"number"):b(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0}(t,n);if(r)return r;var o=Object.keys(n),c=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),k(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return g(n);if(0===o.length){if(C(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(v(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(y(n))return t.stylize(Date.prototype.toString.call(n),"date");if(k(n))return g(n)}var a,u="",_=!1,O=["{","}"];return f(n)&&(_=!0,O=["[","]"]),C(n)&&(u=" [Function"+(n.name?": "+n.name:"")+"]"),v(n)&&(u=" "+RegExp.prototype.toString.call(n)),y(n)&&(u=" "+Date.prototype.toUTCString.call(n)),k(n)&&(u=" "+g(n)),0!==o.length||_&&0!=n.length?i<0?v(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),a=_?function(t,e,n,i,s){for(var r=[],o=0,c=e.length;o<c;++o)A(e,String(o))?r.push(p(t,e,n,i,String(o),!0)):r.push("");return s.forEach((function(s){s.match(/^\d+$/)||r.push(p(t,e,n,i,s,!0))})),r}(t,n,i,c,o):o.map((function(e){return p(t,n,i,c,e,_)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(a,u,O)):O[0]+u+O[1]}function g(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,i,s,r){var o,c,a;if((a=Object.getOwnPropertyDescriptor(e,s)||{value:e[s]}).get?c=t.stylize(a.set?"[Getter/Setter]":"[Getter]","special"):a.set&&(c=t.stylize("[Setter]","special")),A(i,s)||(o="["+s+"]"),c||(t.seen.indexOf(a.value)<0?(c=d(n)?l(t,a.value,null):l(t,a.value,n-1)).indexOf("\n")>-1&&(c=r?c.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+c.split("\n").map((function(t){return"   "+t})).join("\n")):c=t.stylize("[Circular]","special")),w(o)){if(r&&s.match(/^\d+$/))return c;(o=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+c}function f(t){return Array.isArray(t)}function b(t){return"boolean"==typeof t}function d(t){return null===t}function h(t){return"number"==typeof t}function m(t){return"string"==typeof t}function w(t){return void 0===t}function v(t){return _(t)&&"[object RegExp]"===O(t)}function _(t){return"object"==typeof t&&null!==t}function y(t){return _(t)&&"[object Date]"===O(t)}function k(t){return _(t)&&("[object Error]"===O(t)||t instanceof Error)}function C(t){return"function"==typeof t}function O(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(w(r)&&(r=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(r)){var n=process.pid;o[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else o[t]=function(){};return o[t]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=b,e.isNull=d,e.isNullOrUndefined=function(t){return null==t},e.isNumber=h,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=w,e.isRegExp=v,e.isObject=_,e.isDate=y,e.isError=k,e.isFunction=C,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n("1gqn");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var t=new Date,e=[x(t.getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":");return[t.getDate(),P[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",S(),e.format.apply(e,arguments))},e.inherits=n("KKCa"),e._extend=function(t,e){if(!e||!_(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t};var M="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(M&&t[M]){var e;if("function"!=typeof(e=t[M]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,M,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,i=new Promise((function(t,i){e=t,n=i})),s=[],r=0;r<arguments.length;r++)s.push(arguments[r]);s.push((function(t,i){t?n(t):e(i)}));try{t.apply(this,s)}catch(o){n(o)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),M&&Object.defineProperty(e,M,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=M,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var i=e.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var s=this,r=function(){return i.apply(s,arguments)};t.apply(this,e).then((function(t){process.nextTick(r,null,t)}),(function(t){process.nextTick(j,t,r)}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,i(t)),e}},Tap2:function(t,e,n){"use strict";n.r(e),n.d(e,"GameTestModule",(function(){return bn}));var i=n("ofXK"),s=n("tyNb"),r=n("mrSG"),o=n("AcyG"),c=n("QEsO"),a=n("XNiG"),u=n("MCLT"),l=n("1G5W"),g=n("7o/Q");function p(t){return function(e){return e.lift(new b(t))}}var f,b=function(){function t(e){_classCallCheck(this,t),this.predicate=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new d(t,this.predicate))}}]),t}(),d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var s;return _classCallCheck(this,n),(s=e.call(this,t)).predicate=i,s.skipping=!0,s.index=0,s}return _createClass(n,[{key:"_next",value:function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}},{key:"tryCallPredicate",value:function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}}}]),n}(g.a),h=n("fXoL"),m=n("AytR"),w=n("lJxs"),v=n("vkgz"),_=n("vVdt"),y=n("jEGF"),k=n("IzEk"),C=n("nYR2"),O=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.inclusive=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new x(t,this.predicate,this.inclusive))}}]),t}(),x=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,s){var r;return _classCallCheck(this,n),(r=e.call(this,t)).predicate=i,r.inclusive=s,r.index=0,r}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(i){return void n.error(i)}this.nextOrComplete(t,e)}},{key:"nextOrComplete",value:function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}]),n}(g.a),P=n("l5mm"),S=function(t){return t[t.SUCCESS=0]="SUCCESS",t[t.FAIL=1]="FAIL",t[t.EXIT=2]="EXIT",t}({}),A=function(t){return t[t.IN_PROGRESS=0]="IN_PROGRESS",t[t.SUCCESS=1]="SUCCESS",t[t.FAIL=2]="FAIL",t[t.EXIT=3]="EXIT",t}({}),M=((f=function(){function t(e){var n=this;_classCallCheck(this,t),this.talentName=e,this.changeAnswer=new h.p,this.setAnswer=new h.p,this.isShowUserAnswersByTime=new h.p,this.stopTimer=new h.p,this.result={countDone:0,maxCountDone:0,state:S.FAIL,points:null},this.getAllPoints=function(){var t,e=null;return t=n.result.countDone*(2-.5*(n.question.attemptCount-n.userProgress.attemptCount)),n.userProgress.attemptCount===n.question.attemptCount&&(e=_defineProperty({},n.talentName,n.result.countDone)),{gamePoints:t,talentPoints:e}}}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getCountRightAnswers",value:function(){}},{key:"getCountMaxRightAnswers",value:function(){}},{key:"setStateQuestion",value:function(){this.getCountMaxRightAnswers(),this.getCountRightAnswers(),this.changeAnswer.emit(Object.assign(Object.assign({},this.result),{state:this.result.maxCountDone===this.result.countDone?S.SUCCESS:S.FAIL,points:this.getAllPoints()}))}},{key:"setTimer",set:function(t){0==t&&this.stopTimer.emit(),this.timer=t}}]),t}()).\u0275fac=function(t){h.ec()},f.\u0275dir=h.Mb({type:f,inputs:{question:"question",userProgress:"userProgress",isShowUserAnswers:"isShowUserAnswers",setTimer:"setTimer",isDisabledNext:"isDisabledNext"},outputs:{changeAnswer:"changeAnswer",setAnswer:"setAnswer",isShowUserAnswersByTime:"isShowUserAnswersByTime",stopTimer:"stopTimer"}}),f),j=function(){function t(e){_classCallCheck(this,t),this.duration=e,this.startedTimer$=new a.a,this.duration=this.duration>=0?this.duration:0,this.durationTime=this.duration}return _createClass(t,[{key:"stopTimer",value:function(){this.startedTimer$.next(),this.durationTime=0}},{key:"onClickStopTimer",value:function(){this.stopTimer()}},{key:"onClickStartTimer",value:function(t){t=t||"right",this.stopTimer(),"right"===t?this.startTimer():this.startBackTimer()}},{key:"startBackTimer",value:function(){var t=this;return this.durationTime=this.duration,Object(P.a)(1e3).pipe(Object(l.a)(this.startedTimer$),Object(k.a)(this.durationTime),Object(w.a)((function(){return--t.durationTime})),Object(C.a)((function(){return 0===t.durationTime}))).subscribe((function(){}),(function(){t.stopTimer()}),(function(){t.stopTimer()}))}},{key:"startTimer",value:function(){var t=this;return this.durationTime=0,Object(P.a)(1e3).pipe(Object(l.a)(this.startedTimer$),function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new O(t,e))}}((function(){return t.durationTime!=t.duration})),Object(w.a)((function(){return++t.durationTime})),Object(C.a)((function(){return t.durationTime===t.duration}))).subscribe((function(){}),(function(){t.stopTimer()}),(function(){t.stopTimer()}))}}]),t}(),E=n("0IaG");function D(t,e){if(1&t&&(h.Xb(0,"h3"),h.Fc(1),h.Wb()),2&t){var n=h.jc();h.Eb(1),h.Gc(n.data.title)}}function T(t,e){if(1&t&&(h.Xb(0,"h2"),h.Fc(1),h.Wb()),2&t){var n=h.jc();h.Eb(1),h.Gc(n.data.description)}}var I,X,q=((I=function(){function t(e){_classCallCheck(this,t),this.data=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||I)(h.Rb(E.a))},I.\u0275cmp=h.Lb({type:I,selectors:[["app-reward-message"]],decls:7,vars:3,consts:[["mat-dialog-content",""],[3,"mat-dialog-close"],[4,"ngIf"],[1,"image-reward"],[3,"src"]],template:function(t,e){1&t&&(h.Xb(0,"section",0),h.Xb(1,"button",1),h.Fc(2,"\xd7"),h.Wb(),h.Dc(3,D,2,1,"h3",2),h.Dc(4,T,2,1,"h2",2),h.Xb(5,"div",3),h.Sb(6,"img",4),h.Wb(),h.Wb()),2&t&&(h.Eb(3),h.oc("ngIf",e.data.title),h.Eb(1),h.oc("ngIf",e.data.description),h.Eb(2),h.oc("src",e.data.image,h.yc))},directives:[E.d,E.c,i.k],styles:["section[_ngcontent-%COMP%]{background:#fff;position:relative;padding:40px 20px;overflow:hidden;border-radius:20px}h2[_ngcontent-%COMP%]{max-width:719px;white-space:break-spaces;font-family:Chevin Pro;font-style:normal;font-weight:500;font-size:35px;line-height:131.69%;text-align:center;color:#000}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-bottom:50px!important}button[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;background:0;color:#f7c344;outline:0;border:0;font-size:30px;font-weight:700;transform:scale(1.5);transition:transform .3s ease-out}button[_ngcontent-%COMP%]:hover{transform:scale(2)}.image-reward[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),I),U=n("xvda"),W=((X=function(){function t(e,n){_classCallCheck(this,t),this.store=e,this.dialog=n,this.questionState=A,this.pointsList=[],this.currPoints=0,this.userAnswers=[]}return _createClass(t,[{key:"setNewStatus",value:function(t){this.dialog.open(q,{backdropClass:"backdrop-dark",data:{title:"\u0423\u0440\u0430!\n\u0422\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b \u043d\u043e\u0432\u044b\u0439 \u0441\u0442\u0430\u0442\u0443\u0441!",image:t.imgUrl}})}},{key:"setNewAchievement",value:function(t){this.dialog.open(q,{backdropClass:"backdrop-dark",data:{description:t.description,image:t.imgUrl}})}},{key:"getStatus",value:function(t,e){var n=m.d.statuses,i=n[e],s=n[e+1]||i;return{currentStatus:i,nextStatus:s,pointsForNext:s.points.min-t}}},{key:"getAchievement",value:function(t){return t.length?m.d.achievements[t[t.length-1]]:{imgUrl:"/assets/images/achievements/0.png"}}},{key:"getUserProgress$",value:function(){var t=this;return this.user$.pipe(Object(w.a)((function(e){t.userProgress=e?Object.assign({},e.progress):null;var n=function(t){return e.progress.achievement.findIndex((function(e){return e===t}))>=0};if(e.progress.totalPoints!=t.currPoints){var i=e.progress.status+1,s=m.d.statuses[i]&&m.d.statuses[i].points;s&&s.min<=e.progress.totalPoints&&s.max>=e.progress.totalPoints&&(t.store.dispatch(new _.c(Object.assign(Object.assign({},e.progress),{status:i}))),t.setNewStatus(t.getStatus(e.progress.totalPoints,i).currentStatus))}t.currPoints=e.progress.totalPoints,e.progress.userAnswers.length!=t.userAnswers.length&&(1!==e.progress.userAnswers.length||n(m.a.ONE)||(t.store.dispatch(new _.c(Object.assign(Object.assign({},e.progress),{achievement:[].concat(_toConsumableArray(e.progress.achievement),[m.a.ONE])}))),t.setNewAchievement(t.getAchievement([m.a.ONE]))),4!=e.progress.userAnswers.filter((function(t){return t.isMaxPoints&&1===t.taskNum})).length||n(m.a.TWO)||(t.store.dispatch(new _.c(Object.assign(Object.assign({},e.progress),{achievement:[].concat(_toConsumableArray(e.progress.achievement),[m.a.TWO])}))),t.setNewAchievement(t.getAchievement([m.a.TWO]))),4!=e.progress.userAnswers.filter((function(t){return t.isMaxPoints&&2===t.taskNum})).length||n(m.a.THREE)||(t.store.dispatch(new _.c(Object.assign(Object.assign({},e.progress),{achievement:[].concat(_toConsumableArray(e.progress.achievement),[m.a.THREE])}))),t.setNewAchievement(t.getAchievement([m.a.THREE]))),4!=e.progress.userAnswers.filter((function(t){return t.isMaxPoints&&3===t.taskNum})).length||n(m.a.FOUR)||(t.store.dispatch(new _.c(Object.assign(Object.assign({},e.progress),{achievement:[].concat(_toConsumableArray(e.progress.achievement),[m.a.FOUR])}))),t.setNewAchievement(t.getAchievement([m.a.FOUR]))),4!=e.progress.userAnswers.filter((function(t){return t.isMaxPoints&&4===t.taskNum})).length||n(m.a.FIVE)||(t.store.dispatch(new _.c(Object.assign(Object.assign({},e.progress),{achievement:[].concat(_toConsumableArray(e.progress.achievement),[m.a.FIVE])}))),t.setNewAchievement(t.getAchievement([m.a.FIVE]))),4!=e.progress.userAnswers.filter((function(t){return t.isMaxPoints&&5===t.taskNum})).length||n(m.a.SIX)||(t.store.dispatch(new _.c(Object.assign(Object.assign({},e.progress),{achievement:[].concat(_toConsumableArray(e.progress.achievement),[m.a.SIX])}))),t.setNewAchievement(t.getAchievement([m.a.SIX]))),e.progress.userAnswers.filter((function(t){return t.isMaxPoints&&t.type===U.a.MEMORIES})).length>=3&&!n(m.a.SEVEN)&&(t.store.dispatch(new _.c(Object.assign(Object.assign({},e.progress),{achievement:[].concat(_toConsumableArray(e.progress.achievement),[m.a.SEVEN])}))),t.setNewAchievement(t.getAchievement([m.a.SEVEN]))),e.progress.userAnswers.filter((function(t){return t.isMaxPoints&&t.type===U.a.ATTENTION})).length>=3&&!n(m.a.EIGHT)&&(t.store.dispatch(new _.c(Object.assign(Object.assign({},e.progress),{achievement:[].concat(_toConsumableArray(e.progress.achievement),[m.a.EIGHT])}))),t.setNewAchievement(t.getAchievement([m.a.EIGHT]))),e.progress.userAnswers.filter((function(t){return t.isMaxPoints&&t.type===U.a.ORIENTATION})).length>=3&&!n(m.a.NINE)&&(t.store.dispatch(new _.c(Object.assign(Object.assign({},e.progress),{achievement:[].concat(_toConsumableArray(e.progress.achievement),[m.a.NINE])}))),t.setNewAchievement(t.getAchievement([m.a.NINE]))),e.progress.userAnswers.filter((function(t){return t.isMaxPoints&&t.type===U.a.MATCHING})).length>=3&&!n(m.a.TEN)&&(t.store.dispatch(new _.c(Object.assign(Object.assign({},e.progress),{achievement:[].concat(_toConsumableArray(e.progress.achievement),[m.a.TEN])}))),t.setNewAchievement(t.getAchievement([m.a.TEN])))),t.userAnswers=e.progress.userAnswers}))).subscribe()}},{key:"getTask$",value:function(t){var e=this;return this.getUserProgress$(),this.tasks$.pipe(Object(w.a)((function(t){return e.tasks=t})),Object(w.a)((function(e){return e.find((function(e){return e.id===t}))})),Object(w.a)((function(t){return e.task=t?Object.assign(Object.assign({},t),{questions:_toConsumableArray(t.questions)}):null})),Object(v.a)((function(t){t&&(e.nextQuestion(e.userProgress.questionId),e.userProgress.attemptCount<=0&&e.nextQuestionInState(),e.activeQuestionState=e.questionState.IN_PROGRESS)}))).subscribe()}},{key:"nextQuestion",value:function(t){if(t){var e=this.task.questions.findIndex((function(e){return e.id===t}));this.task.questions=this.userProgress.attemptCount<1?_toConsumableArray(this.task.questions.slice(e+1)):_toConsumableArray(this.task.questions.slice(e))}this.question=this.task.questions.shift()}},{key:"nextQuestionInState",value:function(){var t=this,e=function(){var e=t.tasks.findIndex((function(e){return e.id===t.task.id}));return t.tasks[e+1]};this.nextQuestion(),this.pointsList=[],this.store.dispatch(new _.c(Object.assign(Object.assign({},this.userProgress),{taskId:this.question?this.userProgress.taskId:e()?e().id:null,questionId:this.question?this.question.id:e()?e().questions[0].id:null,attemptCount:this.question?this.question.attemptCount:e()?e().questions[0].attemptCount:null})))}},{key:"nextPointsInState",value:function(t){var e=t.talentPoints&&Object.keys(t.talentPoints);e=e||[];var n=Object.assign({},this.userProgress.talentPoints),i=!1;e.forEach((function(e){e in n&&(i=!0,n[e]=n[e]+t.talentPoints[e])}));var s=[].concat(_toConsumableArray(this.userProgress.userAnswers),[{isMaxPoints:!!t.isMaxPoints,type:this.question.type,taskNum:this.taskNumber}]);s=s.filter((function(t,e,n){return e===n.findIndex((function(t){return t.type===s[e].type&&t.taskNum===s[e].taskNum}))})),this.store.dispatch(new _.c(Object.assign(Object.assign({},this.userProgress),{totalPoints:this.userProgress.totalPoints+t.gamePoints,talentPoints:i?n:this.userProgress.talentPoints,userAnswers:s})))}},{key:"questionNumber",get:function(){var t=this;return this.tasks.find((function(e){return e.id===t.userProgress.taskId})).questions.findIndex((function(e){return e.id===t.userProgress.questionId}))+1}},{key:"taskNumber",get:function(){var t=this;return this.tasks.findIndex((function(e){return e.id===t.userProgress.taskId}))+1}}]),t}()).\u0275fac=function(t){return new(t||X)(h.bc(o.i),h.bc(E.b))},X.\u0275prov=h.Nb({token:X,factory:X.\u0275fac}),Object(r.a)([Object(o.e)(y.a.getTasks)],X.prototype,"tasks$",void 0),Object(r.a)([Object(o.e)(c.a.getUser)],X.prototype,"user$",void 0),X),F=function(){return["\u043e\u0439","\u044b\u0439"]};function N(t,e){if(1&t&&(h.Xb(0,"div",3),h.Fc(1),h.Wb()),2&t){var n=h.jc().ngIf,i=h.jc();h.Eb(1),h.Hc(" ","\u0414\u043e "+i.getGrammarCase(i.getStatus(n.progress.totalPoints,n.progress.status).nextStatus.name,h.qc(1,F),"\u043e\u0433\u043e")+"\n \u0435\u0449\u0435 "+i.getStatus(n.progress.totalPoints,n.progress.status).pointsForNext+i.getGrammarCaseByNum(" \u0431\u0430\u043b\u043b",i.getStatus(n.progress.totalPoints,n.progress.status).pointsForNext)," ")}}function R(t,e){1&t&&(h.Xb(0,"div",3),h.Fc(1,"\u0422\u044b \u0434\u043e\u0441\u0442\u0438\u0433 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430!"),h.Wb())}function L(t,e){if(1&t&&h.Sb(0,"img",20),2&t){var n=e.$implicit,i=e.index,s=h.jc().ngIf;h.Hb("control__hint-content-disabled",!s.progress.achievement.includes(i)),h.oc("src",n,h.yc)}}var z=function(t){return{backgroundImage:t}};function B(t,e){if(1&t&&(h.Xb(0,"section",1),h.Xb(1,"div",2),h.Xb(2,"div",3),h.Fc(3),h.Wb(),h.Xb(4,"div",4),h.Sb(5,"img",5),h.Wb(),h.Wb(),h.Sb(6,"hr"),h.Xb(7,"div",6),h.Xb(8,"div",3),h.Fc(9,"\u0411\u0430\u043b\u043b\u044b"),h.Wb(),h.Xb(10,"div",7),h.Xb(11,"div",8),h.Fc(12),h.Wb(),h.Wb(),h.Wb(),h.Sb(13,"hr"),h.Xb(14,"div",9),h.Xb(15,"a",10),h.Fc(16,"? "),h.Xb(17,"div",11),h.Dc(18,N,2,2,"div",12),h.Dc(19,R,2,0,"ng-template",null,13,h.Ec),h.Wb(),h.Wb(),h.Xb(21,"div",3),h.Fc(22,"\u0421\u0442\u0430\u0442\u0443\u0441"),h.Wb(),h.Xb(23,"div",14),h.Sb(24,"div",15),h.Wb(),h.Wb(),h.Sb(25,"hr"),h.Xb(26,"div",16),h.Xb(27,"a",10),h.Fc(28,"i "),h.Xb(29,"div",11),h.Dc(30,L,1,3,"img",17),h.Wb(),h.Wb(),h.Xb(31,"div",3),h.Fc(32,"\u0414\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435"),h.Wb(),h.Xb(33,"div",18),h.Sb(34,"div",19),h.Wb(),h.Wb(),h.Wb()),2&t){var n=e.ngIf,i=h.vc(20),s=h.jc();h.Eb(3),h.Gc(n.name),h.Eb(2),h.oc("src",n.character.avatar,h.yc),h.Eb(7),h.Gc(n.progress.totalPoints),h.Eb(6),h.oc("ngIf",s.getStatus(n.progress.totalPoints,n.progress.status).nextStatus!=s.getStatus(n.progress.totalPoints,n.progress.status).currentStatus)("ngIfElse",i),h.Eb(6),h.oc("ngStyle",h.rc(8,z,"url("+s.getStatus(n.progress.totalPoints,n.progress.status).currentStatus.imgUrl+")")),h.Eb(6),h.oc("ngForOf",s.images),h.Eb(4),h.oc("ngStyle",h.rc(10,z,"url("+s.getAchievement(n.progress.achievement).imgUrl+")"))}}var $,Q=(($=function(){function t(e,n){_classCallCheck(this,t),this.store=e,this.taskService=n,this.images=Object.keys(m.d.achievements).map((function(t){return m.d.achievements[t].imgUrl})),this.ngUnsubscribe$=new a.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.user$.pipe(Object(l.a)(this.ngUnsubscribe$),p((function(t){return Object(u.isNullOrUndefined)(t)}))).subscribe((function(e){t.userProgress=e.progress}))}},{key:"getGrammarCase",value:function(t,e,n){var i=t.substr(-2);return e.includes(i)?t.replace(i,n):t}},{key:"getGrammarCaseByNum",value:function(t,e){var n=+String(e).substr(-1);return[1].includes(n)&&![11].includes(e)?t:[2,3,4].includes(n)&&![12,13,14].includes(e)?t+"\u0430":t+"\u043e\u0432"}},{key:"getStatus",value:function(t,e){return this.taskService.getStatus(t,e)}},{key:"getAchievement",value:function(t){return this.taskService.getAchievement(t)}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe$.next()}}]),t}()).\u0275fac=function(t){return new(t||$)(h.Rb(o.i),h.Rb(W))},$.\u0275cmp=h.Lb({type:$,selectors:[["app-user-profile"]],decls:2,vars:3,consts:[["class","user-profile",4,"ngIf"],[1,"user-profile"],[1,"avatar-bar"],[1,"h3","h3__24-500"],[1,"avatar"],[3,"src"],[1,"points-bar"],[1,"points"],[1,"points__value"],[1,"status-bar"],[1,"control__hint"],[1,"control__hint-content"],["class","h3 h3__24-500",4,"ngIf","ngIfElse"],["maxStatus",""],[1,"status"],[1,"status__image",3,"ngStyle"],[1,"achievements-bar"],["class","control__hint-content-image",3,"control__hint-content-disabled","src",4,"ngFor","ngForOf"],[1,"achievement"],[1,"achievement__image",3,"ngStyle"],[1,"control__hint-content-image",3,"src"]],template:function(t,e){1&t&&(h.Dc(0,B,35,12,"section",0),h.kc(1,"async")),2&t&&h.oc("ngIf",h.lc(1,1,e.user$))},directives:[i.k,i.l,i.j],pipes:[i.b],styles:[".user-profile[_ngcontent-%COMP%]{width:304px;background:#fff;border-radius:20px}.user-profile[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{margin-bottom:5px}.user-profile[_ngcontent-%COMP%]   .achievements-bar[_ngcontent-%COMP%], .user-profile[_ngcontent-%COMP%]   .avatar-bar[_ngcontent-%COMP%], .user-profile[_ngcontent-%COMP%]   .points-bar[_ngcontent-%COMP%], .user-profile[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px 30px;position:relative}.user-profile[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{width:189px;height:96px;left:74px;top:284px;background:#6227df;border-radius:20px;display:flex;justify-content:center;align-items:center;font-family:DS-Digital;font-size:46px;color:#fff}.user-profile[_ngcontent-%COMP%]   .achievement__image[_ngcontent-%COMP%]{height:131px}.user-profile[_ngcontent-%COMP%]   .achievement__image[_ngcontent-%COMP%], .user-profile[_ngcontent-%COMP%]   .status__image[_ngcontent-%COMP%]{width:189px;background-size:100% 100%;background-position:50%;background-repeat:no-repeat}.user-profile[_ngcontent-%COMP%]   .status__image[_ngcontent-%COMP%]{height:117px}.user-profile[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{height:4px;margin:0 30px;border:transparent;border-radius:36px;background:#e1fbff}"]}),Object(r.a)([Object(o.e)(c.a.getUser)],$.prototype,"user$",void 0),$),G=n("itXk"),H=n("NFeN"),Y=n("jhN1"),V=function(t){return{backgroundImage:t}};function J(t,e){if(1&t&&(h.Vb(0),h.Sb(1,"div",5),h.Xb(2,"div",6),h.Xb(3,"div",7),h.Fc(4),h.Wb(),h.Xb(5,"div",8),h.Fc(6),h.Wb(),h.Wb(),h.Ub()),2&t){var n=h.jc().$implicit;h.Eb(1),h.oc("ngStyle",h.rc(3,V,"url("+n.img+")")),h.Eb(3),h.Gc(n.name),h.Eb(2),h.Gc(n.description)}}function K(t,e){if(1&t&&(h.Xb(0,"div",9),h.Sb(1,"mat-icon",10),h.Wb(),h.Xb(2,"div",6),h.Xb(3,"div",11),h.Fc(4),h.Wb(),h.Wb()),2&t){var n=h.jc().index;h.Eb(1),h.oc("svgIcon","question"),h.Eb(3),h.Hc("\u0412\u043e\u043f\u0440\u043e\u0441 ",n+1,"")}}function Z(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",2),h.fc("click",(function(){h.xc(n);var t=e.$implicit;return h.jc().setPreview(t)})),h.Dc(1,J,7,5,"ng-container",3),h.Dc(2,K,5,2,"ng-template",null,4,h.Ec),h.Wb()}if(2&t){var i=e.$implicit,s=h.vc(3);h.Hb("open","OPEN"===i.state)("not-open","NOT_OPEN"===i.state)("done","DONE"===i.state),h.Eb(1),h.oc("ngIf","NOT_OPEN"!=i.state)("ngIfElse",s)}}var tt,et,nt,it=((tt=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.setPreviewTask=new h.p,this.tasks=[],this.setPreview=function(t){i.setPreviewTask.emit({id:t.id,name:t.name,liner:t.liner,linerImg:t.img})},e.addSvgIcon("question",n.bypassSecurityTrustResourceUrl("/assets/images/shared/question.svg"))}return _createClass(t,[{key:"isNotOpenedTask",value:function(t,e,n){if(!n)return"DONE";var i=t.findIndex((function(t){return t.id===e})),s=t.findIndex((function(t){return t.id===n}));return s>i?"DONE":s===i?"OPEN":"NOT_OPEN"}},{key:"ngOnInit",value:function(){var t=this;Object(G.a)(this.user$,this.tasks$).subscribe((function(e){var n=_slicedToArray(e,2),i=n[0],s=n[1];i&&s&&(t.tasks=s.map((function(e){return Object.assign(Object.assign({},e),{state:t.isNotOpenedTask(s,e.id,i.progress.taskId)})})))}))}}]),t}()).\u0275fac=function(t){return new(t||tt)(h.Rb(H.c),h.Rb(Y.b))},tt.\u0275cmp=h.Lb({type:tt,selectors:[["app-task-list"]],outputs:{setPreviewTask:"setPreviewTask"},decls:3,vars:1,consts:[[1,"task-map"],["class","task",3,"open","not-open","done","click",4,"ngFor","ngForOf"],[1,"task",3,"click"],[4,"ngIf","ngIfElse"],["notOpen",""],[1,"image-preview",3,"ngStyle"],[1,"text-bar"],[1,"h2","h2__28-500"],[1,"h4","h4__22-300"],[1,"image-preview"],[3,"svgIcon"],[1,"h5","h5__18-bold"]],template:function(t,e){1&t&&(h.Xb(0,"section"),h.Xb(1,"div",0),h.Dc(2,Z,4,8,"button",1),h.Wb(),h.Wb()),2&t&&(h.Eb(2),h.oc("ngForOf",e.tasks))},directives:[i.j,i.k,i.l,H.a],styles:["section[_ngcontent-%COMP%]{height:100%}.task-map[_ngcontent-%COMP%]{display:flex;align-items:start;justify-content:center;flex-wrap:wrap}.task[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:15px 0;border:0;outline:0;margin:0 20px 20px;cursor:pointer;width:242px;height:390px;background:#fff;border-radius:20px}.task[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{width:214px;height:232px;margin:0 auto;background-position:50%;border-radius:20px;transition:transform .3s ease-out}.task[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:138px;height:138px}.task[_ngcontent-%COMP%]   .text-bar[_ngcontent-%COMP%]{text-align:center}.task[_ngcontent-%COMP%]   .text-bar[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{margin-bottom:10px}.open[_ngcontent-%COMP%]{transform:scale(1);-webkit-animation:pulse 2s infinite;animation:pulse 2s infinite}.open[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.not-open[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed;justify-content:flex-end}.not-open[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{color:#6227df}.done[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}@-webkit-keyframes pulse{0%{transform:scale(1.05)}70%{transform:scale(1)}to{transform:scale(1.05)}}@keyframes pulse{0%{transform:scale(1.05)}70%{transform:scale(1)}to{transform:scale(1.05)}}"]}),Object(r.a)([Object(o.e)(y.a.getTasks)],tt.prototype,"tasks$",void 0),Object(r.a)([Object(o.e)(c.a.getUser)],tt.prototype,"user$",void 0),tt),st=n("cp0P"),rt=n("tk/3"),ot=((nt=function(){function t(e){_classCallCheck(this,t),this.http=e,this.headers=new rt.c({"Content-Type":"application/json;charset=utf-8"}),this.apiUrl="/api"}return _createClass(t,[{key:"get",value:function(t,e){return this.http.get(this.apiUrl+t,{params:e||null})}},{key:"post",value:function(t,e){var n={headers:this.headers};return this.http.post(this.apiUrl+t,JSON.stringify(e||{}),n)}}]),t}()).\u0275fac=function(t){return new(t||nt)(h.bc(rt.a))},nt.\u0275prov=h.Nb({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt),ct=((et=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"sentResults",value:function(t){return this.http.post("/api/v1.0/gametest/gametest/receivegametestresults",t).pipe(Object(w.a)((function(t){return t})))}}]),t}()).\u0275fac=function(t){return new(t||et)(h.bc(ot))},et.\u0275prov=h.Nb({token:et,factory:et.\u0275fac}),et),at=n("vBPR");function ut(t,e){if(1&t&&(h.Xb(0,"li"),h.Xb(1,"div",2),h.Xb(2,"h5"),h.Fc(3),h.Wb(),h.Xb(4,"div",3),h.Fc(5),h.Wb(),h.Wb(),h.Xb(6,"p"),h.Fc(7),h.Wb(),h.Wb()),2&t){var n=e.$implicit;h.Eb(3),h.Gc(n.name),h.Eb(2),h.Hc("",n.value,"/100"),h.Eb(2),h.Hc(" ",n.description," ")}}function lt(t,e){if(1&t&&(h.Xb(0,"li"),h.Xb(1,"div",2),h.Xb(2,"h5"),h.Fc(3),h.Wb(),h.Wb(),h.Xb(4,"p"),h.Fc(5),h.Wb(),h.Wb()),2&t){var n=e.$implicit;h.Eb(3),h.Gc(n.name),h.Eb(2),h.Hc(" ",n.description," ")}}var gt,pt=((gt=function(){function t(e,n,i){_classCallCheck(this,t),this.store=e,this.router=n,this.resultsService=i,this.competitions=[],this.interests=[]}return _createClass(t,[{key:"logout",value:function(){var t=this;Object(st.a)(this.store.dispatch(new at.c),this.store.dispatch(new _.b)).subscribe((function(){return t.router.navigate(["/"])}))}},{key:"ngOnInit",value:function(){var t=this;this.user$.pipe(Object(k.a)(1)).subscribe((function(e){t.userProgress=e.progress;var n=Object.assign({},e.progress.talentPoints);["SS1","SS2","SS6","SS7"].forEach((function(t){n[t]=Math.min(Math.round(n[t]/m.d.maxTalentPoints[t]*100),100)})),e.progress.isResultsSent||t.sentResults(n),t.setViewResults(n)}))}},{key:"sentResults",value:function(t){var e=this;this.resultsService.sentResults({test_id:"string",test_run_id:"string",results:t}).subscribe((function(){e.store.dispatch(new _.c(Object.assign(Object.assign({},e.userProgress),{isResultsSent:!0})))}))}},{key:"setViewResults",value:function(t){var e,n,i,s;this.competitions=["SS1","SS2","SS6","SS7"].map((function(e){var n=t[e],i="";return n>=0&&n<=30&&(i=m.d.params[m.c[e]].small),n>=31&&n<=67&&(i=m.d.params[m.c[e]].medium),n>=70&&n<=100&&(i=m.d.params[m.c[e]].large),{name:m.d.params[m.c[e]].name,description:i,value:n}})),this.interests=(e=["S1","S2","S3","S5","S6","S7","S8","S10","S13","S14"].map((function(e){return{name:m.d.params[m.c[e]].name,description:m.d.params[m.c[e]].large,value:t[e]}})),n=_toConsumableArray(e),i=(n=n.sort((function(t,e){return e.value-t.value}))).slice(0,2),s=n.slice(2,n.length-1),i.concat(s.filter((function(t){return t.value===i[1].value}))))}}]),t}()).\u0275fac=function(t){return new(t||gt)(h.Rb(o.i),h.Rb(s.b),h.Rb(ct))},gt.\u0275cmp=h.Lb({type:gt,selectors:[["app-result-page"]],features:[h.Db([ct])],decls:13,vars:3,consts:[[4,"ngFor","ngForOf"],[1,"control__button",3,"click"],[1,"caption"],[1,"caption-value"]],template:function(t,e){1&t&&(h.Xb(0,"section"),h.Xb(1,"h3"),h.Fc(2),h.Wb(),h.Xb(3,"h4"),h.Fc(4,"\u0422\u0432\u043e\u0438 \u043a\u043e\u043c\u043f\u0435\u0442\u0435\u043d\u0446\u0438\u0438"),h.Wb(),h.Xb(5,"ol"),h.Dc(6,ut,8,3,"li",0),h.Wb(),h.Xb(7,"h4"),h.Fc(8,"\u0422\u0432\u043e\u0438 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u044b"),h.Wb(),h.Xb(9,"ol"),h.Dc(10,lt,6,2,"li",0),h.Wb(),h.Xb(11,"button",1),h.fc("click",(function(){return e.logout()})),h.Fc(12,"\u0412\u044b\u0445\u043e\u0434"),h.Wb(),h.Wb()),2&t&&(h.Eb(2),h.Gc("\u0422\u044b \u043e\u0442\u043b\u0438\u0447\u043d\u043e \u0441\u043f\u0440\u0430\u0432\u0438\u043b\u0441\u044f, \u043c\u043e\u043b\u043e\u0434\u0435\u0446! \n\u0412\u043e\u0442 \u0442\u0432\u043e\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b:"),h.Eb(4),h.oc("ngForOf",e.competitions),h.Eb(4),h.oc("ngForOf",e.interests))},directives:[i.j],styles:["section[_ngcontent-%COMP%]{padding:30px;background:#fff;border-radius:20px;margin-left:30px}section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{white-space:break-spaces;text-align:left}section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:28px;color:#6227df}section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Chevin Pro;font-style:normal;font-weight:700;line-height:131.69%}section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:25px;color:#000}section[_ngcontent-%COMP%]   .caption-value[_ngcontent-%COMP%]{font-family:DS-Digital;font-weight:400;font-size:36px;text-align:center;color:#6227df}section[_ngcontent-%COMP%]   .caption-value[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:normal;line-height:131.69%}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Chevin Pro;font-weight:300;font-size:25px;color:#000}section[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{max-width:996px;counter-reset:custom-counter;list-style:none;padding-left:40px}section[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{counter-increment:custom-counter;position:relative}section[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:counter(custom-counter);background:#6227df;color:#fff;border-radius:10px;font-size:20px;font-weight:700;position:absolute;--size:33px;left:calc(-1*var(--size) - 10px);line-height:var(--size);width:var(--size);height:var(--size);top:0;text-align:center}.caption[_ngcontent-%COMP%]{display:flex;align-items:center;height:34px;margin-bottom:10px}h5[_ngcontent-%COMP%]{margin:0!important}.caption-value[_ngcontent-%COMP%]{font-family:DS-Digital;font-style:normal;font-weight:400;font-size:36px;line-height:131.69%;text-align:center;margin-left:20px;color:#6227df;display:flex;align-items:center}.button[_ngcontent-%COMP%]{margin:0}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding-bottom:35px}"]}),Object(r.a)([Object(o.e)(c.a.getUser)],gt.prototype,"user$",void 0),gt),ft=function(t){return["./",t]};function bt(t,e){if(1&t&&(h.Xb(0,"section",1),h.Xb(1,"div",2),h.Fc(2),h.Wb(),h.Sb(3,"img",3),h.Xb(4,"div",4),h.Fc(5),h.Wb(),h.Xb(6,"div",5),h.Xb(7,"a",6),h.Fc(8,"\u041d\u0430\u0447\u0430\u0442\u044c"),h.Wb(),h.Wb(),h.Wb()),2&t){var n=h.jc();h.Eb(2),h.Gc(n.previewTask.name),h.Eb(1),h.oc("src",n.previewTask.linerImg,h.yc),h.Eb(2),h.Hc(" ",n.previewTask.liner," "),h.Eb(2),h.oc("routerLink",h.rc(4,ft,n.previewTask.id))}}var dt,ht=((dt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||dt)},dt.\u0275cmp=h.Lb({type:dt,selectors:[["app-preview-page"]],inputs:{previewTask:"previewTask"},decls:1,vars:1,consts:[["class","liner-page",4,"ngIf"],[1,"liner-page"],[1,"h1","h1__35-bold"],[1,"liner-img",3,"src"],[1,"h2","h2__28-300"],[1,"button-bar"],[1,"control__button","control__button",3,"routerLink"]],template:function(t,e){1&t&&h.Dc(0,bt,9,6,"section",0),2&t&&h.oc("ngIf",e.previewTask)},directives:[i.k,s.c],styles:[""]}),dt);function mt(t,e){if(1&t){var n=h.Yb();h.Xb(0,"app-task-list",5),h.fc("setPreviewTask",(function(t){return h.xc(n),h.jc(3).previewTask=t})),h.Wb()}}function wt(t,e){1&t&&h.Sb(0,"app-result-page")}function vt(t,e){if(1&t&&(h.Xb(0,"section"),h.Sb(1,"app-user-profile"),h.Dc(2,mt,1,0,"app-task-list",4),h.Dc(3,wt,1,0,"app-result-page",2),h.Wb()),2&t){var n=h.jc(2);h.Eb(2),h.oc("ngIf",n.isUserProgress),h.Eb(1),h.oc("ngIf",!n.isUserProgress)}}function _t(t,e){if(1&t&&h.Sb(0,"app-preview-page",6),2&t){var n=h.jc(2);h.oc("previewTask",n.previewTask)}}function yt(t,e){if(1&t&&(h.Xb(0,"div",1),h.Dc(1,vt,4,2,"section",2),h.Dc(2,_t,1,1,"app-preview-page",3),h.Wb()),2&t){var n=h.jc();h.Eb(1),h.oc("ngIf",!n.previewTask),h.Eb(1),h.oc("ngIf",n.previewTask)}}var kt,Ct=((kt=function(){function t(){_classCallCheck(this,t),this.previewTask=null,this.isUserProgress=!1,this.ngUnsubscribe$=new a.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.user$.pipe(Object(l.a)(this.ngUnsubscribe$),p((function(t){return Object(u.isNullOrUndefined)(t)}))).subscribe((function(e){t.isUserProgress=!Object(u.isNullOrUndefined)(e.progress.questionId)&&!Object(u.isNullOrUndefined)(e.progress.attemptCount)}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe$.next()}}]),t}()).\u0275fac=function(t){return new(t||kt)},kt.\u0275cmp=h.Lb({type:kt,selectors:[["app-dashboard"]],decls:2,vars:3,consts:[["class","dashboard",4,"ngIf"],[1,"dashboard"],[4,"ngIf"],[3,"previewTask",4,"ngIf"],[3,"setPreviewTask",4,"ngIf"],[3,"setPreviewTask"],[3,"previewTask"]],template:function(t,e){1&t&&(h.Dc(0,yt,3,2,"div",0),h.kc(1,"async")),2&t&&h.oc("ngIf",h.lc(1,1,e.user$))},directives:[i.k,Q,it,pt,ht],pipes:[i.b],styles:["section[_ngcontent-%COMP%]{-webkit-animation:toUp .7s cubic-bezier(.68,-.55,.27,1.55);animation:toUp .7s cubic-bezier(.68,-.55,.27,1.55);display:flex;flex-direction:row;background-color:#b7d3fc;align-items:end;padding:20px}.dashboard[_ngcontent-%COMP%]{top:0}.dashboard[_ngcontent-%COMP%], app-preview-page[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;left:0}app-preview-page[_ngcontent-%COMP%]{-webkit-animation:toUp .7s cubic-bezier(.68,-.55,.27,1.55);animation:toUp .7s cubic-bezier(.68,-.55,.27,1.55)}"]}),Object(r.a)([Object(o.e)(c.a.getUser)],kt.prototype,"user$",void 0),kt),Ot=n("eIep");function xt(t,e){if(1&t&&(h.Vb(0),h.Sb(1,"img",7),h.Xb(2,"div",8),h.Fc(3),h.Wb(),h.Xb(4,"div",9),h.Tb(5,10),h.Wb(),h.Ub()),2&t){var n=h.jc(),i=h.vc(5);h.Eb(1),h.oc("src",n.user.character.happy,h.yc),h.Eb(2),h.Gc(n.question.rightAnswerText),h.Eb(2),h.oc("ngTemplateOutlet",i)}}function Pt(t,e){if(1&t&&h.Sb(0,"img",7),2&t){var n=h.jc(2);h.oc("src",n.user.character.sad,h.yc)}}function St(t,e){if(1&t&&h.Sb(0,"img",7),2&t){var n=h.jc(2);h.oc("src",n.user.character.devastated,h.yc)}}function At(t,e){if(1&t&&h.Tb(0,10),2&t){h.jc(2);var n=h.vc(9);h.oc("ngTemplateOutlet",n)}}function Mt(t,e){if(1&t&&(h.Vb(0),h.Dc(1,Pt,1,1,"img",11),h.Dc(2,St,1,1,"img",11),h.Xb(3,"div",8),h.Fc(4),h.Wb(),h.Xb(5,"div",9),h.Dc(6,At,1,1,"ng-container",12),h.Tb(7,10),h.Wb(),h.Ub()),2&t){var n=h.jc(),i=h.vc(7);h.Eb(1),h.oc("ngIf",n.attemptCount>0),h.Eb(1),h.oc("ngIf",0===n.attemptCount),h.Eb(2),h.Hc(" ",n.attemptCount>0?n.question.wrongAnswerText:n.question.failQuestionText," "),h.Eb(2),h.oc("ngIf",n.attemptCount>0),h.Eb(1),h.oc("ngTemplateOutlet",i)}}function jt(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",13),h.fc("click",(function(){h.xc(n);var t=h.jc();return t.nextStep.emit(t.buttonState.NEXT_SUCCESS)})),h.Fc(1," \u041a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0437\u0430\u0434\u0430\u043d\u0438\u044e "),h.Wb()}}function Et(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",13),h.fc("click",(function(){h.xc(n);var t=h.jc();return t.nextStep.emit(t.buttonState.NEXT_FAIL)})),h.Fc(1," \u041a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0437\u0430\u0434\u0430\u043d\u0438\u044e "),h.Wb()}}function Dt(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",14),h.fc("click",(function(){h.xc(n);var t=h.jc();return t.nextStep.emit(t.buttonState.RETRY)})),h.Fc(1," \u0415\u0449\u0435 \u0440\u0430\u0437 "),h.Wb()}}function Tt(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",13),h.fc("click",(function(){h.xc(n);var t=h.jc();return t.nextStep.emit(t.buttonState.EXIT)})),h.Fc(1," \u041a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0437\u0430\u0434\u0430\u043d\u0438\u044e "),h.Wb()}}var It,Xt=function(t){return t[t.NEXT_SUCCESS=0]="NEXT_SUCCESS",t[t.NEXT_FAIL=1]="NEXT_FAIL",t[t.RETRY=2]="RETRY",t[t.EXIT=3]="EXIT",t}({}),qt=((It=function(){function t(){_classCallCheck(this,t),this.nextStep=new h.p,this.buttonState=Xt,this.questionState=A}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||It)},It.\u0275cmp=h.Lb({type:It,selectors:[["app-final-page"]],inputs:{question:"question",user:"user",activeQuestionState:"activeQuestionState",attemptCount:"attemptCount"},outputs:{nextStep:"nextStep"},decls:12,vars:3,consts:[[1,"liner-page"],[3,"ngSwitch"],[4,"ngSwitchCase"],["nextSuccessButton",""],["nextFailButton",""],["retryButton",""],["returnButton",""],[1,"character-emoji",3,"src"],[1,"h1","h1__35-bold"],[1,"button-bar"],[3,"ngTemplateOutlet"],["class","character-emoji",3,"src",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"control__button","control__button-yellow",3,"click"],[1,"control__button","control__button-red",3,"click"]],template:function(t,e){1&t&&(h.Xb(0,"section",0),h.Vb(1,1),h.Dc(2,xt,6,3,"ng-container",2),h.Dc(3,Mt,8,5,"ng-container",2),h.Ub(),h.Wb(),h.Dc(4,jt,2,0,"ng-template",null,3,h.Ec),h.Dc(6,Et,2,0,"ng-template",null,4,h.Ec),h.Dc(8,Dt,2,0,"ng-template",null,5,h.Ec),h.Dc(10,Tt,2,0,"ng-template",null,6,h.Ec)),2&t&&(h.Eb(1),h.oc("ngSwitch",e.activeQuestionState),h.Eb(1),h.oc("ngSwitchCase",e.questionState.SUCCESS),h.Eb(1),h.oc("ngSwitchCase",e.questionState.FAIL))},directives:[i.m,i.n,i.p,i.k],styles:[".button-bar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.button-bar[_ngcontent-%COMP%]   .control__button-red[_ngcontent-%COMP%]{margin-right:30px}section[_ngcontent-%COMP%]{-webkit-animation:toUp .7s cubic-bezier(.68,-.55,.27,1.55);animation:toUp .7s cubic-bezier(.68,-.55,.27,1.55)}"]}),It),Ut=n("LRne"),Wt=n("3E0/");function Ft(t,e){if(1&t&&h.Sb(0,"img",6),2&t){var n=h.jc();h.oc("src",n.liner.img,h.yc)}}var Nt,Rt=((Nt=function(){function t(){_classCallCheck(this,t),this.checkLiner=new h.p}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Nt)},Nt.\u0275cmp=h.Lb({type:Nt,selectors:[["app-liner-page"]],inputs:{liner:"liner"},outputs:{checkLiner:"checkLiner"},decls:9,vars:3,consts:[[1,"liner-page"],[1,"h1","h1__35-bold"],[1,"h1","h1__35-300"],["class","liner-img liner-img__original",3,"src",4,"ngIf"],[1,"button-bar"],[1,"control__button","control__button",3,"click"],[1,"liner-img","liner-img__original",3,"src"]],template:function(t,e){1&t&&(h.Xb(0,"section",0),h.Xb(1,"div",1),h.Fc(2),h.Wb(),h.Xb(3,"div",2),h.Fc(4),h.Wb(),h.Dc(5,Ft,1,1,"img",3),h.Xb(6,"div",4),h.Xb(7,"button",5),h.fc("click",(function(){return e.checkLiner.emit(!0)})),h.Fc(8,"\u0414\u0430\u043b\u044c\u0448\u0435"),h.Wb(),h.Wb(),h.Wb()),2&t&&(h.Eb(2),h.Hc("\u0417\u0430\u0434\u0430\u043d\u0438\u0435 ",e.liner.num,""),h.Eb(2),h.Gc(e.liner.text),h.Eb(1),h.oc("ngIf",e.liner.img))},directives:[i.k],styles:["section[_ngcontent-%COMP%]{-webkit-animation:toUp .7s cubic-bezier(.68,-.55,.27,1.55);animation:toUp .7s cubic-bezier(.68,-.55,.27,1.55)}"]}),Nt),Lt=n("5+WD");function zt(t,e){if(1&t&&(h.Xb(0,"div",16),h.Fc(1),h.Wb()),2&t){var n=h.jc();h.Eb(1),h.Hc(" ",n.timer,"\n")}}function Bt(t,e){if(1&t&&(h.Xb(0,"div",19),h.Fc(1),h.Wb()),2&t){var n=h.jc(2);h.Eb(1),h.Gc(n.question.description)}}function $t(t,e){if(1&t&&(h.Xb(0,"div",17),h.Fc(1),h.Wb(),h.Dc(2,Bt,2,1,"div",18)),2&t){var n=h.jc();h.Eb(1),h.Gc(n.question.name),h.Eb(1),h.oc("ngIf",n.question.description)}}function Qt(t,e){if(1&t&&h.Sb(0,"img",20),2&t){var n=h.jc();h.oc("src",n.question.imgPointsUrl,h.yc)}}function Gt(t,e){if(1&t&&(h.Xb(0,"div",23),h.Xb(1,"div",24),h.Fc(2),h.Wb(),h.Wb()),2&t){var n=e.$implicit,i=h.jc().$implicit,s=h.jc();h.Cc("background","url("+n.imgUrl+")",h.Kb),h.oc("cdkDragDisabled",!s.isDraggable),h.Eb(1),h.oc("ngClass",i.pos.textPos),h.Eb(1),h.Gc(n.name)}}var Ht=function(t,e,n){return{top:t,left:e,background:n}};function Yt(t,e){if(1&t){var n=h.Yb();h.Xb(0,"div",21),h.fc("cdkDropListDropped",(function(t){return h.xc(n),h.jc().drop(t)})),h.Dc(1,Gt,3,5,"div",22),h.Wb()}if(2&t){var i=e.$implicit,s=h.jc();h.oc("ngStyle",h.tc(3,Ht,i.pos.y+"px",i.pos.x+"px",s.getBgImage(i.list)))("cdkDropListData",i.list),h.Eb(1),h.oc("ngForOf",i.list)}}function Vt(t,e){if(1&t&&h.Sb(0,"img",25),2&t){var n=e.$implicit,i=h.jc();h.oc("src",n.imgUrl,h.yc)("cdkDragDisabled",!i.isDraggable)}}function Jt(t,e){if(1&t&&h.Sb(0,"img",25),2&t){var n=e.$implicit,i=h.jc();h.oc("src",n.imgUrl,h.yc)("cdkDragDisabled",!i.isDraggable)}}function Kt(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",26),h.fc("click",(function(){return h.xc(n),h.jc().setAnswer.emit()})),h.Fc(1," \u0414\u0430\u043b\u044c\u0448\u0435 "),h.Wb()}if(2&t){var i=h.jc();h.oc("disabled",i.isDisabledNext)}}function Zt(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",27),h.fc("click",(function(){return h.xc(n),h.jc().stopTimer.emit(!0)})),h.Fc(1," \u0414\u0430\u043b\u044c\u0448\u0435 "),h.Wb()}}var te,ee=((te=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,s){var r;return _classCallCheck(this,n),(r=e.call(this,"SS6")).cd=t,r.dialog=i,r.store=s,r.slots=[],r.itemsForSlotsRight=[],r.itemsForSlotsLeft=[],r}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this.slots=this.setRightAnswersToSlots(),this.stopTimer.pipe(Object(k.a)(1)).subscribe((function(){t.resetRightAnswers()}))}},{key:"getCountMaxRightAnswers",value:function(){this.result.maxCountDone=this.question.rightAnswers.length}},{key:"getCountRightAnswers",value:function(){var t=this.slots.map((function(t){return t.list[0].id})),e=this.question.rightAnswers.filter((function(e,n){return t[n]&&t[n]===e.id})).length;this.result.countDone=e}},{key:"setStateQuestion",value:function(){this.slots.every((function(t){return t.list.length>0}))?(this.isShowUserAnswersByTime.emit(!1),this.getCountMaxRightAnswers(),this.getCountRightAnswers(),this.result.maxCountDone==this.result.countDone&&(this.result=Object.assign(Object.assign({},this.result),{maxCountDone:this.result.maxCountDone-1,countDone:this.result.countDone-1})),this.changeAnswer.emit(Object.assign(Object.assign({},this.result),{state:this.result.maxCountDone===this.result.countDone?S.SUCCESS:S.FAIL,points:this.getAllPoints()}))):this.isShowUserAnswersByTime.emit(!0)}},{key:"getBgImage",value:function(t){return t.length>0?"url("+t[0].imgUrl+")":"white"}},{key:"setAnswersForSlots",value:function(){return _toConsumableArray(this.question.answers.map((function(t){return{id:t.id,imgUrl:t.imgUrl,name:t.name}})))}},{key:"setRightAnswersToSlots",value:function(){var t=this;return _toConsumableArray(this.question.answers.reduce((function(e,n,i){var s=t.question.answers.find((function(e){return e.id===t.question.rightAnswers[i].id}));return[].concat(_toConsumableArray(e),[{id:n.id,list:[{id:s.id,name:s.name,imgUrl:s.imgUrl}],pos:n.pos}])}),[]))}},{key:"resetSlots",value:function(){return _toConsumableArray(this.question.answers.reduce((function(t,e){return[].concat(_toConsumableArray(t),[{id:e.id,list:[],pos:e.pos}])}),[]))}},{key:"resetRightAnswers",value:function(){this.slots=this.resetSlots();var t=this.setAnswersForSlots();this.itemsForSlotsLeft=t.slice(0,this.maxSlots),this.itemsForSlotsRight=t.slice(this.maxSlots,t.length),this.cd.detectChanges()}},{key:"drop",value:function(t,e){if(t.previousContainer===t.container)Object(Lt.e)(t.container.data,t.previousIndex,t.currentIndex);else{var n=_toConsumableArray(t.container.data.map((function(t){return t.id})));if(Object(Lt.f)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),t.container.data.length>1&&!e){var i=t.previousContainer.data.length,s=t.container.data.findIndex((function(t){return n.includes(t.id)}));Object(Lt.f)(t.container.data,t.previousContainer.data,s,i)}}this.cd.detectChanges(),this.setStateQuestion()}},{key:"isDraggable",get:function(){return 0===this.timer}},{key:"maxSlots",get:function(){return Math.round(this.question.answers.length/2)}}]),n}(M)).\u0275fac=function(t){return new(t||te)(h.Rb(h.i),h.Rb(E.b),h.Rb(o.i))},te.\u0275cmp=h.Lb({type:te,selectors:[["app-memorization-type"]],features:[h.Bb],decls:19,vars:11,consts:[["class","timeout-bar",4,"ngIf","ngIfElse"],["questionHeader",""],["cdkDropListGroup",""],[1,"map-container"],[3,"src"],["id","slots"],[1,"slots-area"],["class","slots-points",3,"src",4,"ngIf"],["cdkDropList","","class","slot",3,"ngStyle","cdkDropListData","cdkDropListDropped",4,"ngFor","ngForOf"],["cdkDropList","",1,"items",3,"cdkDropListData","cdkDropListDropped"],["leftItems","cdkDropList"],["cdkDrag","",3,"src","cdkDragDisabled",4,"ngFor","ngForOf"],["rightItems","cdkDropList"],[1,"button-bar"],["class","control__button control__button",3,"disabled","click",4,"ngIf"],["class","control__button control__button",3,"click",4,"ngIf"],[1,"timeout-bar"],[1,"h1","h1__35-bold"],["class","h2 h5__18-bold",4,"ngIf"],[1,"h2","h5__18-bold"],[1,"slots-points",3,"src"],["cdkDropList","",1,"slot",3,"ngStyle","cdkDropListData","cdkDropListDropped"],["class","slot-image","cdkDrag","",3,"background","cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDrag","",1,"slot-image",3,"cdkDragDisabled"],[1,"text-border","h5","h5__18-bold",3,"ngClass"],["cdkDrag","",3,"src","cdkDragDisabled"],[1,"control__button","control__button",3,"disabled","click"],[1,"control__button","control__button",3,"click"]],template:function(t,e){if(1&t){var n=h.Yb();h.Dc(0,zt,2,1,"div",0),h.Dc(1,$t,3,2,"ng-template",null,1,h.Ec),h.Xb(3,"section",2),h.Xb(4,"div",3),h.Sb(5,"img",4),h.Xb(6,"div",5),h.Xb(7,"div",6),h.Dc(8,Qt,1,1,"img",7),h.Dc(9,Yt,2,7,"div",8),h.Wb(),h.Wb(),h.Wb(),h.Xb(10,"div",9,10),h.fc("cdkDropListDropped",(function(t){h.xc(n);var i=h.vc(14);return t.container.data.length>=e.maxSlots?i.drop(t.item,t.currentIndex,t.previousContainer,!0):e.drop(t,!0)})),h.Dc(12,Vt,1,2,"img",11),h.Wb(),h.Xb(13,"div",9,12),h.fc("cdkDropListDropped",(function(t){h.xc(n);var i=h.vc(11);return t.container.data.length>=e.maxSlots?i.drop(t.item,t.currentIndex,t.previousContainer,!0):e.drop(t,!0)})),h.Dc(15,Jt,1,2,"img",11),h.Wb(),h.Wb(),h.Xb(16,"div",13),h.Dc(17,Kt,2,1,"button",14),h.Dc(18,Zt,2,0,"button",15),h.Wb()}if(2&t){var i=h.vc(2);h.oc("ngIf",e.timer)("ngIfElse",i),h.Eb(5),h.oc("src",e.question.imgUrl,h.yc),h.Eb(3),h.oc("ngIf",e.question.imgPointsUrl),h.Eb(1),h.oc("ngForOf",e.slots),h.Eb(1),h.oc("cdkDropListData",e.itemsForSlotsLeft),h.Eb(2),h.oc("ngForOf",e.itemsForSlotsLeft),h.Eb(1),h.oc("cdkDropListData",e.itemsForSlotsRight),h.Eb(2),h.oc("ngForOf",e.itemsForSlotsRight),h.Eb(2),h.oc("ngIf",0===e.timer),h.Eb(1),h.oc("ngIf",e.timer>0)}},directives:[i.k,Lt.c,i.j,Lt.b,i.l,Lt.a,i.i],styles:['section[_ngcontent-%COMP%]{display:grid;grid-template-areas:"l m r";overflow:hidden}section[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;grid-area:m}section[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:847px;height:525px}section[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   #slots[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}section[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{width:218px;height:100%;padding:0 20px}section[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:154px;padding-bottom:20px}section[_ngcontent-%COMP%]   .class[_ngcontent-%COMP%]{width:100%;height:100%;display:flex}section[_ngcontent-%COMP%]   .class[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:218px;height:154px}section[_ngcontent-%COMP%]   .slots-area[_ngcontent-%COMP%]{width:847px;height:525px}section[_ngcontent-%COMP%]   .slots-area[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]{width:136px;height:99px;border:7px solid #000;border-radius:23.5px;position:absolute;background:#fff;background-size:100% 100%!important}section[_ngcontent-%COMP%]   .slots-area[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]   .slot-image[_ngcontent-%COMP%]{width:100%;height:100%;background-size:100% 100%!important}.text-border[_ngcontent-%COMP%]{position:absolute;left:-10px;width:155px;background:#000;border-radius:20px;font-size:16px;height:38px;color:#fff;align-items:center;display:flex;justify-content:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:transform .3s ease-out}.text-border[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.text-border.top[_ngcontent-%COMP%]{top:-50px}.text-border.bottom[_ngcontent-%COMP%]{bottom:-50px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;background-size:100% 100%!important;width:218px;height:154px}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s ease-in-out}.timeout-bar[_ngcontent-%COMP%]{font-family:Ds-Digital;font-style:normal;font-weight:400;font-size:55px;line-height:131.69%;text-align:center;color:#000;height:72px;display:flex;justify-content:center;align-items:center}.h1[_ngcontent-%COMP%]{margin-bottom:30px}.slots-points[_ngcontent-%COMP%]{z-index:1;position:relative;pointer-events:none}'],changeDetection:0}),te),ne=n("3Pt+");function ie(t,e){if(1&t&&(h.Xb(0,"div",9),h.Fc(1),h.Wb()),2&t){var n=h.jc();h.Eb(1),h.Gc(n.question.description)}}function se(t,e){if(1&t){var n=h.Yb();h.Vb(0),h.Sb(1,"img",4),h.Xb(2,"input",10),h.fc("ngModelChange",(function(t){return h.xc(n),h.jc().userAnswer=t}))("ngModelChange",(function(){return h.xc(n),h.jc().setStateQuestion()})),h.Wb(),h.Ub()}if(2&t){var i=e.$implicit,s=h.jc();h.Eb(1),h.oc("src",i.imgUrl,h.yc),h.Eb(1),h.oc("ngModel",s.userAnswer),h.Fb("valid",s.userAnswer>=0?"show":"hide")}}var re,oe=((re=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this,"SS2")}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"getCountMaxRightAnswers",value:function(){this.result.maxCountDone=this.question.rightAnswers[0].value}},{key:"setStateQuestion",value:function(){Object(u.isNullOrUndefined)(this.userAnswer)?this.isShowUserAnswersByTime.emit(!0):this.isShowUserAnswersByTime.emit(!1),_get(_getPrototypeOf(n.prototype),"setStateQuestion",this).call(this)}},{key:"getCountRightAnswers",value:function(){var t=this.userAnswer;this.result.countDone=t>0&&t<=this.result.maxCountDone?t:0}}]),n}(M)).\u0275fac=function(t){return new(t||re)},re.\u0275cmp=h.Lb({type:re,selectors:[["app-attention-type"]],features:[h.Bb],decls:11,vars:5,consts:[[1,"h1","h1__35-bold"],["class","h2 h2__28-300",4,"ngIf"],[1,"question-content"],[1,"left-sector"],[3,"src"],[1,"right-sector"],[4,"ngFor","ngForOf"],[1,"button-bar"],[1,"control__button","control__button",3,"disabled","click"],[1,"h2","h2__28-300"],["type","number","placeholder","\u041a\u043e\u043b-\u0432\u043e",1,"control__input",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(h.Xb(0,"div",0),h.Fc(1),h.Wb(),h.Dc(2,ie,2,1,"div",1),h.Xb(3,"div",2),h.Xb(4,"div",3),h.Sb(5,"img",4),h.Wb(),h.Xb(6,"div",5),h.Dc(7,se,3,3,"ng-container",6),h.Xb(8,"div",7),h.Xb(9,"button",8),h.fc("click",(function(){return e.setAnswer.emit()})),h.Fc(10," \u0414\u0430\u043b\u044c\u0448\u0435 "),h.Wb(),h.Wb(),h.Wb(),h.Wb()),2&t&&(h.Eb(1),h.Hc(" ",e.question.name,"\n"),h.Eb(1),h.oc("ngIf",e.question.description),h.Eb(3),h.oc("src",e.question.imgUrl,h.yc),h.Eb(2),h.oc("ngForOf",e.question.answers),h.Eb(2),h.oc("disabled",e.isDisabledNext))},directives:[i.k,i.j,ne.o,ne.c,ne.k,ne.n],styles:[""]}),re),ce=function(t){return{background:t}};function ae(t,e){if(1&t&&h.Sb(0,"div",12),2&t){var n=h.jc().$implicit;h.oc("ngStyle",h.rc(1,ce,n.color))}}function ue(t,e){if(1&t){var n=h.Yb();h.Xb(0,"div",9),h.Xb(1,"label"),h.Xb(2,"input",10),h.fc("ngModelChange",(function(t){return h.xc(n),h.jc().userAnswer=t}))("ngModelChange",(function(){return h.xc(n),h.jc().setStateQuestion()})),h.Wb(),h.Xb(3,"span"),h.Fc(4),h.Dc(5,ae,1,3,"div",11),h.Wb(),h.Wb(),h.Wb()}if(2&t){var i=e.$implicit,s=h.jc();h.Eb(2),h.oc("value",i)("ngModel",s.userAnswer),h.Eb(2),h.Hc(" ",i.name?i.name:""," "),h.Eb(1),h.oc("ngIf",i.color)}}var le,ge=((le=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this,"SS7")).answers=[],t}return _createClass(n,[{key:"ngOnInit",value:function(){this.answers=this.getSliceAnswers(_toConsumableArray(this.question.answers))}},{key:"getSliceAnswers",value:function(t){for(var e=this,n=t.findIndex((function(t){return t.id===e.question.rightAnswers[0].id})),i=t.map((function(t){return Object.assign(Object.assign({},t),{weight:null})})),s=i.length-1,r=i.length-(n==i.length-1?0:n),o=0;o<r;o++)i[n-o]&&(s=n-o!=n?s-1:s,i[n-o].weight=s),i[n+o]&&(i[n+o].weight=s),0==n&&(s-=1);return i}},{key:"getCountMaxRightAnswers",value:function(){var t=this;this.result.maxCountDone=this.answers.find((function(e){return e.id===t.question.rightAnswers[0].id})).weight}},{key:"getCountRightAnswers",value:function(){this.result.countDone=this.userAnswer.weight}}]),n}(M)).\u0275fac=function(t){return new(t||le)},le.\u0275cmp=h.Lb({type:le,selectors:[["app-orientation-type"]],features:[h.Bb],decls:11,vars:4,consts:[[1,"question-content"],[1,"left-sector"],[3,"src"],[1,"right-sector","right-sector__top"],[1,"h1","h1__35-bold"],[1,"radio-group"],["class","control__radio",4,"ngFor","ngForOf"],[1,"button-bar"],[1,"control__button","control__button",3,"disabled","click"],[1,"control__radio"],["type","radio",3,"value","ngModel","ngModelChange"],["class","color-icon",3,"ngStyle",4,"ngIf"],[1,"color-icon",3,"ngStyle"]],template:function(t,e){1&t&&(h.Xb(0,"div",0),h.Xb(1,"div",1),h.Sb(2,"img",2),h.Wb(),h.Xb(3,"div",3),h.Xb(4,"div",4),h.Fc(5),h.Wb(),h.Xb(6,"div",5),h.Dc(7,ue,6,4,"div",6),h.Wb(),h.Xb(8,"div",7),h.Xb(9,"button",8),h.fc("click",(function(){return e.setAnswer.emit()})),h.Fc(10," \u0414\u0430\u043b\u044c\u0448\u0435 "),h.Wb(),h.Wb(),h.Wb(),h.Wb()),2&t&&(h.Eb(2),h.oc("src",e.question.imgUrl,h.yc),h.Eb(3),h.Hc(" ",e.question.name," "),h.Eb(2),h.oc("ngForOf",e.answers),h.Eb(2),h.oc("disabled",e.isDisabledNext))},directives:[i.j,ne.p,ne.c,ne.k,ne.n,i.k,i.l],styles:[""]}),le),pe=n("L7jl"),fe=function(t,e){return{"show-answer":t,"hide-answer":e}};function be(t,e){if(1&t){var n=h.Yb();h.Xb(0,"div",2),h.Xb(1,"label"),h.Xb(2,"input",3),h.fc("ngModelChange",(function(t){return h.xc(n),e.$implicit.checked=t}))("ngModelChange",(function(){return h.xc(n),h.jc().setStateQuestion()})),h.Wb(),h.Xb(3,"span"),h.Xb(4,"div",4),h.Fc(5),h.Wb(),h.Wb(),h.Wb(),h.Wb()}if(2&t){var i=e.$implicit,s=h.jc();h.oc("ngClass",h.sc(5,fe,i.checked&&s.isShowUserAnswers,!i.checked&&s.isShowUserAnswers)),h.Eb(2),h.oc("value",i.id)("checked",i.checked)("ngModel",i.checked),h.Eb(3),h.Hc(" ",i.name," ")}}var de,he=((de=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this,"SS1")).answersList=[],t}return _createClass(n,[{key:"ngOnInit",value:function(){this.question.answers.length&&(this.answersList=_toConsumableArray(this.question.answers.map((function(t){return Object.assign(Object.assign({},t),{checked:!1})}))))}},{key:"getCountMaxRightAnswers",value:function(){this.result.maxCountDone=this.question.rightAnswers.length}},{key:"getCountRightAnswers",value:function(){var t=this.answersList.filter((function(t){return t.checked})).map((function(t){return t.id}));this.result.countDone=this.question.rightAnswers.filter((function(e){return t.includes(e.id)})).length}},{key:"isRightAnswer",value:function(t){return this.question.rightAnswers.some((function(e){return e.id===t.id}))?"right":"fail"}}]),n}(M)).\u0275fac=function(t){return new(t||de)},de.\u0275cmp=h.Lb({type:de,selectors:[["app-multi-checkbox-view"]],features:[h.Bb],decls:2,vars:1,consts:[[1,"control__list"],["class","control__checkbox",3,"ngClass",4,"ngFor","ngForOf"],[1,"control__checkbox",3,"ngClass"],["type","checkbox",3,"value","checked","ngModel","ngModelChange"],[1,"control__list-item"]],template:function(t,e){1&t&&(h.Xb(0,"div",0),h.Dc(1,be,6,8,"div",1),h.Wb()),2&t&&(h.Eb(1),h.oc("ngForOf",e.answersList))},directives:[i.j,i.i,ne.a,ne.k,ne.n],styles:[".hide-answer[_ngcontent-%COMP%]{-webkit-animation:hide-text .5s ease-in-out forwards;animation:hide-text .5s ease-in-out forwards}.show-answer[_ngcontent-%COMP%]{margin:0}.show-answer[_ngcontent-%COMP%], .show-answer[_ngcontent-%COMP%]   .control__list-item[_ngcontent-%COMP%]{width:100%!important;background:transparent;padding:0}.show-answer[_ngcontent-%COMP%]   .control__checkbox[_ngcontent-%COMP%]   .show-answer[_ngcontent-%COMP%]{margin:0}.show-answer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{-webkit-animation:show-text .5s ease-in-out forwards;animation:show-text .5s ease-in-out forwards}.text[_ngcontent-%COMP%], .text-input[_ngcontent-%COMP%]{font-family:Chevin Pro;font-style:normal;font-weight:300;font-size:24px;line-height:131.69%;margin-bottom:7px}  .cdk-drag-placeholder{opacity:0}  .cdk-drag-preview .list-item{width:calc(100% - 43px - .5em);background:#cdf0ff;border-radius:10px;padding:8px 20px}  .cdk-drag-preview input{position:absolute;z-index:-1;opacity:0}  .cdk-drag-preview .text,   .cdk-drag-preview .text-input{width:100%;display:inline-flex;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}  .cdk-drag-preview .text-input:after{content:\"\";display:inline-block;width:43px;height:43px;flex-shrink:0;flex-grow:0;border:3px solid #6227df;border-radius:50%;margin-left:.5em;background-repeat:no-repeat;background-position:50%;background-size:80% 80%}  .cdk-drag-preview input:not(:disabled):not(:checked)+.text-input:hover:after{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23EFE9FC'/%3e%3c/svg%3e\")}  .cdk-drag-preview input:checked+.text-input:after{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%236227DF'/%3e%3c/svg%3e\")}  .cdk-drag-preview input:disabled+.text-input:after{background-color:#efe9fc}.hide-control[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.hide-control[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{width:100%}.control__checkbox[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{margin-bottom:15px}"]}),de),me=function(t,e){return{"show-answer":t,"hide-answer":e}};function we(t,e){if(1&t&&(h.Xb(0,"div",2),h.Fc(1),h.Wb()),2&t){var n=e.$implicit,i=h.jc();h.oc("cdkDragDisabled",i.isShowUserAnswers)("ngClass",h.sc(3,me,n.checked&&i.isShowUserAnswers,!n.checked&&i.isShowUserAnswers)),h.Eb(1),h.Hc(" ",n.name," ")}}var ve,_e=((ve=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this,"SS1")).answersList=[],t}return _createClass(n,[{key:"ngOnInit",value:function(){this.question.answers.length&&(this.answersList=_toConsumableArray(this.question.answers.map((function(t){return Object.assign(Object.assign({},t),{checked:!0})}))))}},{key:"getCountMaxRightAnswers",value:function(){this.result.maxCountDone=this.question.rightAnswers.length}},{key:"getCountRightAnswers",value:function(){var t=this.answersList.filter((function(t){return t.checked})).map((function(t){return t.id}));this.result.countDone=this.question.rightAnswers.filter((function(e,n){return t[n]&&t[n]===e.id})).length}},{key:"drop",value:function(t){t.previousContainer===t.container&&Object(Lt.e)(t.container.data,t.previousIndex,t.currentIndex),this.setStateQuestion()}},{key:"isRightAnswer",value:function(t,e){return this.question.rightAnswers[e]&&this.question.rightAnswers[e].id===t.id?"right":this.question.rightAnswers.some((function(e){return e.id===t.id}))?"failPosition":"fail"}}]),n}(M)).\u0275fac=function(t){return new(t||ve)},ve.\u0275cmp=h.Lb({type:ve,selectors:[["app-draggable-view"]],features:[h.Bb],decls:2,vars:2,consts:[["cdkDropList","",1,"control__list",3,"cdkDropListData","cdkDropListDropped"],["class","control__list-item control__checkbox","cdkDrag","",3,"cdkDragDisabled","ngClass",4,"ngFor","ngForOf"],["cdkDrag","",1,"control__list-item","control__checkbox",3,"cdkDragDisabled","ngClass"]],template:function(t,e){1&t&&(h.Xb(0,"div",0),h.fc("cdkDropListDropped",(function(t){return e.drop(t)})),h.Dc(1,we,2,6,"div",1),h.Wb()),2&t&&(h.oc("cdkDropListData",e.answersList),h.Eb(1),h.oc("ngForOf",e.answersList))},directives:[Lt.b,i.j,Lt.a,i.i],styles:[".hide-answer[_ngcontent-%COMP%]{-webkit-animation:hide-text .5s ease-in-out forwards;animation:hide-text .5s ease-in-out forwards}.show-answer[_ngcontent-%COMP%]{margin:0}.show-answer[_ngcontent-%COMP%], .show-answer[_ngcontent-%COMP%]   .control__list-item[_ngcontent-%COMP%]{width:100%!important;background:transparent;padding:0}.show-answer[_ngcontent-%COMP%]   .control__checkbox[_ngcontent-%COMP%]   .show-answer[_ngcontent-%COMP%]{margin:0}.show-answer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{-webkit-animation:show-text .5s ease-in-out forwards;animation:show-text .5s ease-in-out forwards}.text[_ngcontent-%COMP%], .text-input[_ngcontent-%COMP%]{font-family:Chevin Pro;font-style:normal;font-weight:300;font-size:24px;line-height:131.69%;margin-bottom:7px}  .cdk-drag-placeholder{opacity:0}  .cdk-drag-preview .list-item{width:calc(100% - 43px - .5em);background:#cdf0ff;border-radius:10px;padding:8px 20px}  .cdk-drag-preview input{position:absolute;z-index:-1;opacity:0}  .cdk-drag-preview .text,   .cdk-drag-preview .text-input{width:100%;display:inline-flex;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}  .cdk-drag-preview .text-input:after{content:\"\";display:inline-block;width:43px;height:43px;flex-shrink:0;flex-grow:0;border:3px solid #6227df;border-radius:50%;margin-left:.5em;background-repeat:no-repeat;background-position:50%;background-size:80% 80%}  .cdk-drag-preview input:not(:disabled):not(:checked)+.text-input:hover:after{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23EFE9FC'/%3e%3c/svg%3e\")}  .cdk-drag-preview input:checked+.text-input:after{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%236227DF'/%3e%3c/svg%3e\")}  .cdk-drag-preview input:disabled+.text-input:after{background-color:#efe9fc}.hide-control[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.hide-control[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{width:100%}.control__checkbox[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{margin-bottom:15px}"]}),ve),ye=function(t,e){return{"show-answer":t,"hide-answer":e}};function ke(t,e){if(1&t){var n=h.Yb();h.Xb(0,"div",2),h.Xb(1,"label"),h.Xb(2,"input",3),h.fc("ngModelChange",(function(t){return h.xc(n),e.$implicit.checked=t}))("ngModelChange",(function(){return h.xc(n),h.jc().setStateQuestion()})),h.Wb(),h.Xb(3,"span"),h.Xb(4,"div",4),h.Fc(5),h.Wb(),h.Wb(),h.Wb(),h.Wb()}if(2&t){var i=e.$implicit,s=h.jc();h.oc("ngClass",h.sc(5,ye,i.checked&&s.isShowUserAnswers,!i.checked&&s.isShowUserAnswers)),h.Eb(2),h.oc("value",i.id)("checked",i.checked)("ngModel",i.checked),h.Eb(3),h.Hc(" ",i.name," ")}}var Ce,Oe=((Ce=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this,"SS1")).answersList=[],t}return _createClass(n,[{key:"ngOnInit",value:function(){this.question.answers.length&&(this.answersList=_toConsumableArray(this.question.answers.map((function(t){return Object.assign(Object.assign({},t),{checked:!1})}))))}},{key:"getCountMaxRightAnswers",value:function(){this.result.maxCountDone=this.question.rightAnswers.length}},{key:"getCountRightAnswers",value:function(){var t=this.answersList.filter((function(t){return t.checked})).map((function(t){return t.id}));this.result.countDone=this.question.rightAnswers.filter((function(e,n){return t[n]&&t[n]===e.id})).length}},{key:"setStateQuestion",value:function(){this.answersList.every((function(t){return!t.checked}))?this.isShowUserAnswersByTime.emit(!0):this.isShowUserAnswersByTime.emit(!1),_get(_getPrototypeOf(n.prototype),"setStateQuestion",this).call(this)}},{key:"drop",value:function(t){t.previousContainer===t.container&&Object(Lt.e)(t.container.data,t.previousIndex,t.currentIndex),this.setStateQuestion()}},{key:"isRightAnswer",value:function(t,e){return this.question.rightAnswers[e]&&this.question.rightAnswers[e].id===t.id?"right":this.question.rightAnswers.some((function(e){return e.id===t.id}))?"failPosition":"fail"}}]),n}(M)).\u0275fac=function(t){return new(t||Ce)},Ce.\u0275cmp=h.Lb({type:Ce,selectors:[["app-multi-checkbox-draggable-view"]],features:[h.Bb],decls:2,vars:2,consts:[["cdkDropList","",1,"control__list",3,"cdkDropListData","cdkDropListDropped"],["class","control__checkbox","cdkDrag","",3,"ngClass",4,"ngFor","ngForOf"],["cdkDrag","",1,"control__checkbox",3,"ngClass"],["type","checkbox",3,"value","checked","ngModel","ngModelChange"],[1,"control__list-item"]],template:function(t,e){1&t&&(h.Xb(0,"div",0),h.fc("cdkDropListDropped",(function(t){return e.drop(t)})),h.Dc(1,ke,6,8,"div",1),h.Wb()),2&t&&(h.oc("cdkDropListData",e.answersList),h.Eb(1),h.oc("ngForOf",e.answersList))},directives:[Lt.b,i.j,Lt.a,i.i,ne.a,ne.k,ne.n],styles:[".hide-answer[_ngcontent-%COMP%]{-webkit-animation:hide-text .5s ease-in-out forwards;animation:hide-text .5s ease-in-out forwards}.show-answer[_ngcontent-%COMP%]{margin:0}.show-answer[_ngcontent-%COMP%], .show-answer[_ngcontent-%COMP%]   .control__list-item[_ngcontent-%COMP%]{width:100%!important;background:transparent;padding:0}.show-answer[_ngcontent-%COMP%]   .control__checkbox[_ngcontent-%COMP%]   .show-answer[_ngcontent-%COMP%]{margin:0}.show-answer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{-webkit-animation:show-text .5s ease-in-out forwards;animation:show-text .5s ease-in-out forwards}.text[_ngcontent-%COMP%], .text-input[_ngcontent-%COMP%]{font-family:Chevin Pro;font-style:normal;font-weight:300;font-size:24px;line-height:131.69%;margin-bottom:7px}  .cdk-drag-placeholder{opacity:0}  .cdk-drag-preview .list-item{width:calc(100% - 43px - .5em);background:#cdf0ff;border-radius:10px;padding:8px 20px}  .cdk-drag-preview input{position:absolute;z-index:-1;opacity:0}  .cdk-drag-preview .text,   .cdk-drag-preview .text-input{width:100%;display:inline-flex;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}  .cdk-drag-preview .text-input:after{content:\"\";display:inline-block;width:43px;height:43px;flex-shrink:0;flex-grow:0;border:3px solid #6227df;border-radius:50%;margin-left:.5em;background-repeat:no-repeat;background-position:50%;background-size:80% 80%}  .cdk-drag-preview input:not(:disabled):not(:checked)+.text-input:hover:after{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23EFE9FC'/%3e%3c/svg%3e\")}  .cdk-drag-preview input:checked+.text-input:after{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%236227DF'/%3e%3c/svg%3e\")}  .cdk-drag-preview input:disabled+.text-input:after{background-color:#efe9fc}.hide-control[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.hide-control[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{width:100%}.control__checkbox[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{margin-bottom:15px}"]}),Ce);function xe(t,e){if(1&t&&(h.Xb(0,"div",7),h.Fc(1),h.Wb()),2&t){var n=h.jc();h.Eb(1),h.Gc(n.question.description)}}function Pe(t,e){if(1&t){var n=h.Yb();h.Xb(0,"app-multi-checkbox-view",8),h.fc("changeAnswer",(function(t){return h.xc(n),h.jc().changeAnswer.emit(t)}))("setAnswer",(function(t){return h.xc(n),h.jc().setAnswer.emit(t)}))("isShowUserAnswersByTime",(function(t){return h.xc(n),h.jc().isShowUserAnswersByTime.emit(t)})),h.Wb()}if(2&t){var i=h.jc();h.oc("question",i.question)("userProgress",i.userProgress)("isShowUserAnswers",i.isShowUserAnswers)}}function Se(t,e){if(1&t){var n=h.Yb();h.Xb(0,"app-draggable-view",8),h.fc("changeAnswer",(function(t){return h.xc(n),h.jc().changeAnswer.emit(t)}))("setAnswer",(function(t){return h.xc(n),h.jc().setAnswer.emit(t)}))("isShowUserAnswersByTime",(function(t){return h.xc(n),h.jc().isShowUserAnswersByTime.emit(t)})),h.Wb()}if(2&t){var i=h.jc();h.oc("question",i.question)("userProgress",i.userProgress)("isShowUserAnswers",i.isShowUserAnswers)}}function Ae(t,e){if(1&t){var n=h.Yb();h.Xb(0,"app-multi-checkbox-draggable-view",8),h.fc("changeAnswer",(function(t){return h.xc(n),h.jc().changeAnswer.emit(t)}))("setAnswer",(function(t){return h.xc(n),h.jc().setAnswer.emit(t)}))("isShowUserAnswersByTime",(function(t){return h.xc(n),h.jc().isShowUserAnswersByTime.emit(t)})),h.Wb()}if(2&t){var i=h.jc();h.oc("question",i.question)("userProgress",i.userProgress)("isShowUserAnswers",i.isShowUserAnswers)}}function Me(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",9),h.fc("click",(function(){h.xc(n);var t=h.jc();return t.isShowUserAnswers=!t.isShowUserAnswers})),h.Fc(1," \u0413\u043e\u0442\u043e\u0432\u043e "),h.Wb()}if(2&t){var i=h.jc();h.oc("disabled",i.isDisabledNext)}}function je(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",10),h.fc("click",(function(){return h.xc(n),h.jc().setAnswer.emit()})),h.Fc(1," \u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c "),h.Wb()}if(2&t){var i=h.jc();h.oc("disabled",i.isDisabledNext)}}var Ee,De,Te=((Ee=function t(){_classCallCheck(this,t),this.changeAnswer=new h.p,this.isShowUserAnswersByTime=new h.p,this.setAnswer=new h.p,this.questionSubType=pe.a}).\u0275fac=function(t){return new(t||Ee)},Ee.\u0275cmp=h.Lb({type:Ee,selectors:[["app-matching-type"]],inputs:{question:"question",userProgress:"userProgress",isShowUserAnswers:"isShowUserAnswers",isDisabledNext:"isDisabledNext"},outputs:{changeAnswer:"changeAnswer",isShowUserAnswersByTime:"isShowUserAnswersByTime",setAnswer:"setAnswer"},decls:10,vars:8,consts:[[3,"ngSwitch"],[1,"h1","h1__35-bold"],["class","h2 h2__28-300",4,"ngIf"],[3,"question","userProgress","isShowUserAnswers","changeAnswer","setAnswer","isShowUserAnswersByTime",4,"ngSwitchCase"],[1,"button-bar"],["class","control__button",3,"disabled","click",4,"ngIf"],["class","control__button control__button",3,"disabled","click",4,"ngIf"],[1,"h2","h2__28-300"],[3,"question","userProgress","isShowUserAnswers","changeAnswer","setAnswer","isShowUserAnswersByTime"],[1,"control__button",3,"disabled","click"],[1,"control__button","control__button",3,"disabled","click"]],template:function(t,e){1&t&&(h.Vb(0,0),h.Xb(1,"div",1),h.Fc(2),h.Wb(),h.Dc(3,xe,2,1,"div",2),h.Dc(4,Pe,1,3,"app-multi-checkbox-view",3),h.Dc(5,Se,1,3,"app-draggable-view",3),h.Dc(6,Ae,1,3,"app-multi-checkbox-draggable-view",3),h.Xb(7,"div",4),h.Dc(8,Me,2,1,"button",5),h.Dc(9,je,2,1,"button",6),h.Wb(),h.Ub()),2&t&&(h.oc("ngSwitch",e.question.subType),h.Eb(2),h.Hc(" ",e.question.name," "),h.Eb(1),h.oc("ngIf",e.question.description),h.Eb(1),h.oc("ngSwitchCase",e.questionSubType.MULTI_CHECK),h.Eb(1),h.oc("ngSwitchCase",e.questionSubType.DRAGGABLE),h.Eb(1),h.oc("ngSwitchCase",e.questionSubType.DRAGGABLE_MULTI_CHECK),h.Eb(2),h.oc("ngIf",!e.isShowUserAnswers),h.Eb(1),h.oc("ngIf",e.isShowUserAnswers))},directives:[i.m,i.k,i.n,he,_e,Oe],styles:[".hide-answer[_ngcontent-%COMP%]{-webkit-animation:hide-text .5s ease-in-out forwards;animation:hide-text .5s ease-in-out forwards}.show-answer[_ngcontent-%COMP%]{margin:0}.show-answer[_ngcontent-%COMP%], .show-answer[_ngcontent-%COMP%]   .control__list-item[_ngcontent-%COMP%]{width:100%!important;background:transparent;padding:0}.show-answer[_ngcontent-%COMP%]   .control__checkbox[_ngcontent-%COMP%]   .show-answer[_ngcontent-%COMP%]{margin:0}.show-answer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{-webkit-animation:show-text .5s ease-in-out forwards;animation:show-text .5s ease-in-out forwards}.text[_ngcontent-%COMP%], .text-input[_ngcontent-%COMP%]{font-family:Chevin Pro;font-style:normal;font-weight:300;font-size:24px;line-height:131.69%;margin-bottom:7px}  .cdk-drag-placeholder{opacity:0}  .cdk-drag-preview .list-item{width:calc(100% - 43px - .5em);background:#cdf0ff;border-radius:10px;padding:8px 20px}  .cdk-drag-preview input{position:absolute;z-index:-1;opacity:0}  .cdk-drag-preview .text,   .cdk-drag-preview .text-input{width:100%;display:inline-flex;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}  .cdk-drag-preview .text-input:after{content:\"\";display:inline-block;width:43px;height:43px;flex-shrink:0;flex-grow:0;border:3px solid #6227df;border-radius:50%;margin-left:.5em;background-repeat:no-repeat;background-position:50%;background-size:80% 80%}  .cdk-drag-preview input:not(:disabled):not(:checked)+.text-input:hover:after{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23EFE9FC'/%3e%3c/svg%3e\")}  .cdk-drag-preview input:checked+.text-input:after{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%236227DF'/%3e%3c/svg%3e\")}  .cdk-drag-preview input:disabled+.text-input:after{background-color:#efe9fc}.hide-control[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.hide-control[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{width:100%}.control__checkbox[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{margin-bottom:15px}"]}),Ee),Ie=n("5RNC"),Xe=n("sYmb"),qe=function(t){return{backgroundImage:t}},Ue=((De=function(){function t(e){_classCallCheck(this,t),this.data=e,this.value=0}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||De)(h.Rb(E.a))},De.\u0275cmp=h.Lb({type:De,selectors:[["app-info-type-dialog"]],decls:13,vars:13,consts:[["mat-dialog-content",""],[1,"dialog-img",3,"ngStyle"],[1,"dialog-description"],["mat-dialog-title",""],[1,"dialog-controls"],[1,"slider",3,"min","max","step","ngModel","ngModelChange"],[1,"control__button",3,"mat-dialog-close"]],template:function(t,e){1&t&&(h.Xb(0,"section"),h.Xb(1,"div",0),h.Sb(2,"div",1),h.Xb(3,"div",2),h.Xb(4,"h1",3),h.Fc(5),h.Wb(),h.Xb(6,"p"),h.Fc(7),h.Wb(),h.Wb(),h.Xb(8,"div",4),h.Xb(9,"mat-slider",5),h.fc("ngModelChange",(function(t){return e.value=t})),h.Wb(),h.Xb(10,"button",6),h.Fc(11),h.kc(12,"translate"),h.Wb(),h.Wb(),h.Wb(),h.Wb()),2&t&&(h.Eb(2),h.oc("ngStyle",h.rc(11,qe,"url("+e.data.imgUrl+")")),h.Eb(3),h.Gc(e.data.title),h.Eb(2),h.Gc(e.data.description),h.Eb(2),h.oc("min",0)("max",100)("step",1)("ngModel",e.value),h.Eb(1),h.oc("mat-dialog-close",e.value),h.Eb(1),h.Hc(" ",h.lc(12,9,"done_button")," "))},directives:[E.d,i.l,E.f,Ie.a,ne.k,ne.n,E.c],pipes:[Xe.d],styles:['section[_ngcontent-%COMP%]{background:#fff;border-radius:40px;padding:20px;overflow:hidden}.dialog-img[_ngcontent-%COMP%]{background-size:100% 100%;width:436px;height:653px}.mat-dialog-content[_ngcontent-%COMP%]{max-height:100%;display:grid;grid-template-areas:"img dscr" "img controls";grid-gap:25px}.dialog-description[_ngcontent-%COMP%]{font-size:25px;text-align:left}.dialog-description[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{font-family:Chevin Pro;line-height:131.69%;color:#000}h1[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:35px}.dialog-img[_ngcontent-%COMP%]{grid-area:img}.dialog-description[_ngcontent-%COMP%]{grid-area:dscr;max-width:655px}.dialog-controls[_ngcontent-%COMP%]{grid-area:controls;display:flex;justify-content:space-between;flex-direction:column;width:446px}.dialog-controls[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin:0}.dialog-controls[_ngcontent-%COMP%]     .mat-slider .mat-slider-track-fill{transform:translateX(0) scaleX(.43);background:#f19d0c!important}.dialog-controls[_ngcontent-%COMP%]     .mat-slider .mat-slider-thumb{background:url(/assets/images/shared/slider-emoji.svg);background-size:cover;background-repeat:no-repeat;background-position:50%;width:50px;height:50px;right:-25px;bottom:-25px}.dialog-controls[_ngcontent-%COMP%]     .mat-slider .mat-slider-thumb:hover{transform:scale(1.2)}.dialog-controls[_ngcontent-%COMP%]     .mat-slider .mat-slider-ticks-container, .dialog-controls[_ngcontent-%COMP%]     .mat-slider .mat-slider-track-background, .dialog-controls[_ngcontent-%COMP%]     .mat-slider .mat-slider-track-fill{height:7px!important}.dialog-controls[_ngcontent-%COMP%]     .mat-slider .mat-slider-track-wrapper{height:7px!important;border-radius:29px;background:#dbdbdb}  .cdk-global-overlay-wrapper{overflow:auto}']}),De);function We(t,e){if(1&t&&(h.Xb(0,"div",5),h.Fc(1),h.Wb()),2&t){var n=h.jc();h.Eb(1),h.Gc(n.question.description)}}function Fe(t,e){1&t&&h.Sb(0,"mat-icon",9),2&t&&h.oc("svgIcon","check-mark")}var Ne=function(t){return{backgroundImage:t}};function Re(t,e){if(1&t){var n=h.Yb();h.Xb(0,"div",6),h.fc("click",(function(){h.xc(n);var t=e.$implicit,i=h.jc();return!i.isViewed(t.id)&&i.openDialog(t.id)})),h.Xb(1,"div",7),h.Dc(2,Fe,1,1,"mat-icon",8),h.Wb(),h.Xb(3,"h2"),h.Fc(4),h.Wb(),h.Wb()}if(2&t){var i=e.$implicit,s=h.jc();h.Eb(1),h.oc("ngStyle",h.rc(3,Ne,"url("+i.imgUrl+")")),h.Eb(1),h.oc("ngIf",s.isViewed(i.id)),h.Eb(2),h.Gc(i.description)}}var Le,ze=((Le=function(){function t(e,n,i){_classCallCheck(this,t),this.dialog=e,this.changeAnswer=new h.p,this.isShowUserAnswersByTime=new h.p,this.setAnswer=new h.p,this.userAnswer=[],n.addSvgIcon("check-mark",i.bypassSecurityTrustResourceUrl("/assets/images/shared/check-mark.svg"))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"isViewed",value:function(t){return this.userAnswer&&this.userAnswer.some((function(e){return e.id==t}))}},{key:"openDialog",value:function(t){var e=this,n=this.question.answers.find((function(e){return e.id==t}));this.dialog.open(Ue,{disableClose:!0,backdropClass:"backdrop-dark",data:{title:n.description,description:n.descriptionInfo,imgUrl:n.imgUrl}}).afterClosed().subscribe((function(i){e.userAnswer.push({id:t,value:i,worldSkillsName:n.worldSkillsName}),e.userAnswer.length==e.question.answers.length&&e.changeAnswer.emit({countDone:2,maxCountDone:2,state:S.EXIT,points:{gamePoints:0,talentPoints:e.userAnswer.reduce((function(t,e){return Object.assign(Object.assign({},t),_defineProperty({},e.worldSkillsName,e.value))}),{})}})}))}},{key:"setAnswers",value:function(){this.setAnswer.emit()}}]),t}()).\u0275fac=function(t){return new(t||Le)(h.Rb(E.b),h.Rb(H.c),h.Rb(Y.b))},Le.\u0275cmp=h.Lb({type:Le,selectors:[["app-info-type"]],inputs:{question:"question",userProgress:"userProgress",isShowUserAnswers:"isShowUserAnswers",isDisabledNext:"isDisabledNext"},outputs:{changeAnswer:"changeAnswer",isShowUserAnswersByTime:"isShowUserAnswersByTime",setAnswer:"setAnswer"},decls:7,vars:4,consts:[[1,"h1","h1__35-bold"],["class","h2 h2__28-300",4,"ngIf"],[1,"info-bar"],["class","info-item",3,"click",4,"ngFor","ngForOf"],[1,"control__button","control__button",3,"disabled","click"],[1,"h2","h2__28-300"],[1,"info-item",3,"click"],[1,"info-img",3,"ngStyle"],[3,"svgIcon",4,"ngIf"],[3,"svgIcon"]],template:function(t,e){1&t&&(h.Xb(0,"div",0),h.Fc(1),h.Wb(),h.Dc(2,We,2,1,"div",1),h.Xb(3,"section",2),h.Dc(4,Re,5,5,"div",3),h.Wb(),h.Xb(5,"button",4),h.fc("click",(function(){return e.setAnswers()})),h.Fc(6," \u0414\u0430\u043b\u044c\u0448\u0435\n"),h.Wb()),2&t&&(h.Eb(1),h.Gc(e.question.name),h.Eb(1),h.oc("ngIf",e.question.description),h.Eb(2),h.oc("ngForOf",e.question.answers),h.Eb(1),h.oc("disabled",e.isDisabledNext))},directives:[i.k,i.j,i.l,H.a],styles:[".info-img[_ngcontent-%COMP%]{border-radius:20px;background-size:100%;background-position:50%;width:484px;height:323px}section.info-bar[_ngcontent-%COMP%]{display:flex;justify-content:center}.info-item[_ngcontent-%COMP%]{padding:0 40px}.info-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Chevin Pro;font-size:35px;line-height:131.69%;text-align:center;color:#000;padding-top:35px;max-width:484px}.h1[_ngcontent-%COMP%]{max-width:1000px;margin:40px auto 0}section.info-bar[_ngcontent-%COMP%]{padding-top:40px}mat-icon[_ngcontent-%COMP%]{width:90px;height:90px;position:absolute;bottom:-25px}mat-icon[_ngcontent-%COMP%]     path{-webkit-animation:show-opacity .5s ease-in-out forwards;animation:show-opacity .5s ease-in-out forwards}.info-img[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.control__button[_ngcontent-%COMP%]{margin:0 auto}"]}),Le),Be=function(t,e,n){return{text:t,img:e,num:n}};function $e(t,e){if(1&t){var n=h.Yb();h.Xb(0,"app-liner-page",3),h.fc("checkLiner",(function(t){return h.xc(n),h.jc(2).isCheckLiner=t})),h.Wb()}if(2&t){var i=h.jc(2);h.oc("liner",h.tc(1,Be,i.question.liner,1===i.question.answers.length&&i.question.answers[0].imgUrl,i.questionNumber))}}function Qe(t,e){if(1&t){var n=h.Yb();h.Xb(0,"div",15),h.Xb(1,"div",16),h.Xb(2,"div",17),h.Fc(3," \u0423 \u0442\u0435\u0431\u044f \u0431\u0443\u0434\u0435\u0442 3 \u043f\u043e\u043f\u044b\u0442\u043a\u0438 \u0440\u0435\u0448\u0438\u0442\u044c \u043a\u0430\u0436\u0434\u043e\u0435 \u0438\u0437 \u0437\u0430\u0434\u0430\u043d\u0438\u0439. \u0417\u0430 \u043a\u0430\u0436\u0434\u043e\u0435 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u0441\u0433\u043e\u0440\u0430\u0435\u0442 \u043f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u0431\u0438\u043b\u0435\u0442\u0443. "),h.Wb(),h.Xb(4,"button",18),h.fc("click",(function(){return h.xc(n),h.jc(5).checkHint()})),h.Fc(5," \u041f\u043e\u043d\u044f\u0442\u043d\u043e "),h.Wb(),h.Wb(),h.Wb()}}function Ge(t,e){if(1&t&&(h.Xb(0,"div",13),h.Dc(1,Qe,6,0,"div",14),h.kc(2,"async"),h.Wb()),2&t){var n=h.jc(4);h.Eb(1),h.oc("ngIf",!h.lc(2,1,n.user$).progress.isCheckedHint)}}function He(t,e){if(1&t&&(h.Xb(0,"div",9),h.Sb(1,"div",10),h.Dc(2,Ge,3,3,"div",11),h.Xb(3,"div",12),h.Fc(4),h.Wb(),h.Wb()),2&t){var n=h.jc(3);h.Eb(1),h.Hb("fall-attempt",n.attemptView.destroy),h.Eb(1),h.oc("ngIf",n.attemptView.count>0),h.Eb(2),h.Gc(n.attemptView.count)}}function Ye(t,e){if(1&t){var n=h.Yb();h.Xb(0,"app-memorization-type",19),h.fc("changeAnswer",(function(t){return h.xc(n),h.jc(3).getAnswerResult(t)}))("stopTimer",(function(){return h.xc(n),h.jc(3).timerQuestion.onClickStopTimer()}))("isShowUserAnswersByTime",(function(t){return h.xc(n),h.jc(3).isShowUserAnswersByTime=t}))("setAnswer",(function(){return h.xc(n),h.jc(3).setAnswer()})),h.Wb()}if(2&t){var i=h.jc(3);h.oc("userProgress",i.userProgress)("question",i.question)("setTimer",i.timerQuestion.durationTime)("isDisabledNext",i.isShowUserAnswersByTime||!i.userAnswersResult)}}function Ve(t,e){if(1&t){var n=h.Yb();h.Xb(0,"app-attention-type",20),h.fc("changeAnswer",(function(t){return h.xc(n),h.jc(3).getAnswerResult(t)}))("setAnswer",(function(){return h.xc(n),h.jc(3).setAnswer()}))("isShowUserAnswersByTime",(function(t){return h.xc(n),h.jc(3).isShowUserAnswersByTime=t})),h.Wb()}if(2&t){var i=h.jc(3);h.oc("userProgress",i.userProgress)("question",i.question)("isDisabledNext",i.isShowUserAnswersByTime||!i.userAnswersResult)}}function Je(t,e){if(1&t){var n=h.Yb();h.Xb(0,"app-orientation-type",20),h.fc("changeAnswer",(function(t){return h.xc(n),h.jc(3).getAnswerResult(t)}))("setAnswer",(function(){return h.xc(n),h.jc(3).setAnswer()}))("isShowUserAnswersByTime",(function(t){return h.xc(n),h.jc(3).isShowUserAnswersByTime=t})),h.Wb()}if(2&t){var i=h.jc(3);h.oc("userProgress",i.userProgress)("question",i.question)("isDisabledNext",i.isShowUserAnswersByTime||!i.userAnswersResult)}}function Ke(t,e){if(1&t){var n=h.Yb();h.Xb(0,"app-matching-type",20),h.fc("changeAnswer",(function(t){return h.xc(n),h.jc(3).getAnswerResult(t)}))("setAnswer",(function(){return h.xc(n),h.jc(3).setAnswer()}))("isShowUserAnswersByTime",(function(t){return h.xc(n),h.jc(3).isShowUserAnswersByTime=t})),h.Wb()}if(2&t){var i=h.jc(3);h.oc("userProgress",i.userProgress)("question",i.question)("isDisabledNext",i.isShowUserAnswersByTime||!i.userAnswersResult)}}function Ze(t,e){if(1&t){var n=h.Yb();h.Xb(0,"app-info-type",21),h.fc("changeAnswer",(function(t){return h.xc(n),h.jc(3).getAnswerResult(t)}))("setAnswer",(function(){return h.xc(n),h.jc(3).setAnswer()}))("isShowUserAnswersByTime",(function(t){return h.xc(n),h.jc(3).isShowUserAnswersByTime=t})),h.Wb()}if(2&t){var i=h.jc(3);h.oc("userProgress",i.userProgress)("question",i.question)("isDisabledNext",i.isShowUserAnswersByTime||!i.userAnswersResult)("isShowUserAnswers",i.isShowUserAnswersByTime)}}function tn(t,e){if(1&t&&(h.Xb(0,"section",4),h.Dc(1,He,5,4,"div",5),h.Dc(2,Ye,1,4,"app-memorization-type",6),h.Dc(3,Ve,1,3,"app-attention-type",7),h.Dc(4,Je,1,3,"app-orientation-type",7),h.Dc(5,Ke,1,3,"app-matching-type",7),h.Dc(6,Ze,1,4,"app-info-type",8),h.Wb()),2&t){var n=h.jc(2);h.oc("ngSwitch",n.question.type),h.Eb(1),h.oc("ngIf",0==n.timerQuestion.durationTime),h.Eb(1),h.oc("ngSwitchCase",n.questionType.MEMORIES),h.Eb(1),h.oc("ngSwitchCase",n.questionType.ATTENTION),h.Eb(1),h.oc("ngSwitchCase",n.questionType.ORIENTATION),h.Eb(1),h.oc("ngSwitchCase",n.questionType.MATCHING),h.Eb(1),h.oc("ngSwitchCase",n.questionType.INFO)}}function en(t,e){if(1&t&&(h.Vb(0),h.Dc(1,$e,1,5,"app-liner-page",1),h.Dc(2,tn,7,7,"section",2),h.Ub()),2&t){var n=h.jc();h.Eb(1),h.oc("ngIf",!n.isCheckLiner),h.Eb(1),h.oc("ngIf",n.isCheckLiner)}}var nn,sn=((nn=function(){function t(e){var n=this;_classCallCheck(this,t),this.store=e,this.activeQuestionState=new h.p,this.questionType=U.a,this.isShowUserAnswersByTime=!1,this.isSetEmptyAnswer=!1,this.isAnswerDone=!1,this.isCheckLiner=!1,this.isCheckedHint=!1,this.ngUnsubscribe$=new a.a,this.getQuestionState=function(){return n.activeQuestionState.pipe(Object(l.a)(n.ngUnsubscribe$),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.length;if(0===i)throw new Error("list of properties cannot be empty.");return function(t){return Object(w.a)(function(t,e){return function(n){for(var i=n,s=0;s<e;s++){var r=i[t[s]];if(void 0===r)return;i=r}return i}}(e,i))(t)}}("state"))},this.attemptView=null,this.attemptsCountForView=function(t,e){return{count:e,destroy:t!=e}}}return _createClass(t,[{key:"setEmptyAnswer",value:function(){var t=this;if(!this.isSetEmptyAnswer){var e=function(){switch(t.question.type){case U.a.ORIENTATION:return"SS7";case U.a.MATCHING:return"SS1";case U.a.MEMORIES:return"SS6";case U.a.ATTENTION:return"SS2"}};e()&&(this.userAnswersResult={state:S.FAIL,points:{gamePoints:0,talentPoints:_defineProperty({},e(),0)},countDone:0,maxCountDone:0}),this.setAnswer()}}},{key:"ngOnInit",value:function(){var t=this;this.user$.pipe(Object(l.a)(this.ngUnsubscribe$),p((function(t){return Object(u.isNullOrUndefined)(t)}))).subscribe((function(e){t.userProgress=Object.assign({},e.progress),t.attemptView=t.attemptsCountForView(t.question.attemptCount,e.progress.attemptCount)})),this.getQuestionState().subscribe((function(e){e===A.IN_PROGRESS&&(t.timerQuestion=new j(t.question.durationTime),t.timerQuestion.onClickStartTimer("left")),t.questionState=e})),this.activeQuestionState.emit({state:A.IN_PROGRESS}),this.isAnswerDone=!1}},{key:"getAnswerResult",value:function(t){this.userAnswersResult=t}},{key:"setAnswer",value:function(){var t=this;this.userAnswersResult.state===S.SUCCESS&&this.activeQuestionState.emit({state:A.SUCCESS,points:this.userAnswersResult.points}),this.userAnswersResult.state===S.FAIL&&this.store.dispatch(new _.c(Object.assign(Object.assign({},this.userProgress),{attemptCount:this.userProgress.attemptCount-1}))).subscribe((function(){t.activeQuestionState.emit({state:A.FAIL,points:t.userAnswersResult.points})})),this.userAnswersResult.state===S.EXIT&&this.activeQuestionState.emit({state:A.EXIT,points:this.userAnswersResult.points}),this.userAnswersResult=null,this.isAnswerDone=!0}},{key:"onClickSetAnswer",value:function(){var t=this;this.question.type===this.questionType.MATCHING?(this.isShowUserAnswersByTime=!0,Object(Ut.a)([]).pipe(Object(Wt.a)(2e3)).subscribe((function(){t.setAnswer(),t.isShowUserAnswersByTime=!1}))):this.setAnswer()}},{key:"checkHint",value:function(){this.store.dispatch(new _.c(Object.assign(Object.assign({},this.userProgress),{isCheckedHint:!0})))}},{key:"ngOnDestroy",value:function(){this.questionState===A.IN_PROGRESS&&(this.isSetEmptyAnswer||(this.setEmptyAnswer(),this.isSetEmptyAnswer=!0)),this.timerQuestion.onClickStopTimer(),this.ngUnsubscribe$.next()}}]),t}()).\u0275fac=function(t){return new(t||nn)(h.Rb(o.i))},nn.\u0275cmp=h.Lb({type:nn,selectors:[["app-question"]],inputs:{question:"question",questionNumber:"questionNumber"},outputs:{activeQuestionState:"activeQuestionState"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"liner","checkLiner",4,"ngIf"],["class","question-page",3,"ngSwitch",4,"ngIf"],[3,"liner","checkLiner"],[1,"question-page",3,"ngSwitch"],["class","user-attempts",4,"ngIf"],[3,"userProgress","question","setTimer","isDisabledNext","changeAnswer","stopTimer","isShowUserAnswersByTime","setAnswer",4,"ngSwitchCase"],[3,"userProgress","question","isDisabledNext","changeAnswer","setAnswer","isShowUserAnswersByTime",4,"ngSwitchCase"],[3,"userProgress","question","isDisabledNext","isShowUserAnswers","changeAnswer","setAnswer","isShowUserAnswersByTime",4,"ngSwitchCase"],[1,"user-attempts"],[1,"attempt-ticket"],["class","attempt-ticket view",4,"ngIf"],[1,"attempt-count"],[1,"attempt-ticket","view"],["class","backdrop-dark w-full",4,"ngIf"],[1,"backdrop-dark","w-full"],[1,"control__hint-content"],[1,"h3","h3__24-300"],[1,"control__button","control__button-yellow",3,"click"],[3,"userProgress","question","setTimer","isDisabledNext","changeAnswer","stopTimer","isShowUserAnswersByTime","setAnswer"],[3,"userProgress","question","isDisabledNext","changeAnswer","setAnswer","isShowUserAnswersByTime"],[3,"userProgress","question","isDisabledNext","isShowUserAnswers","changeAnswer","setAnswer","isShowUserAnswersByTime"]],template:function(t,e){1&t&&h.Dc(0,en,3,2,"ng-container",0),2&t&&h.oc("ngIf",e.question)},directives:[i.k,Rt,i.m,i.n,ee,oe,ge,Te,ze],pipes:[i.b],styles:[".user-attempts[_ngcontent-%COMP%]{display:flex;position:absolute;right:0;top:5px}.user-attempts[_ngcontent-%COMP%]   .attempt-ticket[_ngcontent-%COMP%]{width:36.77px;height:63.25px;margin:5px;background:url(/assets/images/shared/ticket.png);background-size:100% 100%}.user-attempts[_ngcontent-%COMP%]   .attempt-count[_ngcontent-%COMP%]{width:45px;height:45px;color:#7847f2;background:#f7c344;font-size:28px;border-radius:50%;display:flex;justify-content:center;font-weight:700;align-items:center}.user-attempts[_ngcontent-%COMP%]   .fall-attempt[_ngcontent-%COMP%]{-webkit-animation:hide .75s ease-in-out forwards;animation:hide .75s ease-in-out forwards;-webkit-animation-delay:.75s;animation-delay:.75s}.view[_ngcontent-%COMP%]{position:absolute}.backdrop-dark.w-full[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;left:0;top:0;z-index:10}.backdrop-dark.w-full[_ngcontent-%COMP%]   .h3.h3__24-300[_ngcontent-%COMP%]{margin:0 auto;min-width:450px}.backdrop-dark.w-full[_ngcontent-%COMP%]   .control__hint-content[_ngcontent-%COMP%]{display:block;right:65px;left:auto;top:100px}.backdrop-dark.w-full[_ngcontent-%COMP%]   .control__hint-content[_ngcontent-%COMP%]:before{right:38px;left:auto}.backdrop-dark.w-full[_ngcontent-%COMP%]   .control__button[_ngcontent-%COMP%]{margin:30px auto 0}.next-button-in-content[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;margin:0}.questions-content[_ngcontent-%COMP%]     h3{max-width:calc(100% - 92px)}@-webkit-keyframes hide{0%{opacity:1;transform:rotate(0) translate(0)}to{opacity:0;transform:rotate(45deg) translate(-100px,-30px)}}@keyframes hide{0%{opacity:1;transform:rotate(0) translate(0)}to{opacity:0;transform:rotate(45deg) translate(-100px,-30px)}}app-attention-type[_ngcontent-%COMP%], app-matching-type[_ngcontent-%COMP%], app-memorization-type[_ngcontent-%COMP%], app-orientation-type[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:calc(100% - 40px);width:100%}app-attention-type[_ngcontent-%COMP%], app-info-type[_ngcontent-%COMP%], app-matching-type[_ngcontent-%COMP%], app-memorization-type[_ngcontent-%COMP%], app-orientation-type[_ngcontent-%COMP%]{-webkit-animation:toUp .7s cubic-bezier(.68,-.55,.27,1.55);animation:toUp .7s cubic-bezier(.68,-.55,.27,1.55)}"]}),Object(r.a)([Object(o.e)(c.a.getUser)],nn.prototype,"user$",void 0),nn);function rn(t,e){if(1&t){var n=h.Yb();h.Xb(0,"app-question",3),h.fc("activeQuestionState",(function(t){return h.xc(n),h.jc(2).onQuestionStateChange(t)})),h.Wb()}if(2&t){var i=h.jc(2);h.oc("question",i.taskService.question)("questionNumber",i.taskService.questionNumber)}}function on(t,e){if(1&t){var n=h.Yb();h.Xb(0,"app-final-page",4),h.fc("nextStep",(function(t){return h.xc(n),h.jc(2).setQuestionState(t)})),h.kc(1,"async"),h.Wb()}if(2&t){var i=h.jc(2);h.oc("activeQuestionState",i.taskService.activeQuestionState)("attemptCount",i.taskService.userProgress.attemptCount)("user",h.lc(1,4,i.user$))("question",i.taskService.question)}}function cn(t,e){if(1&t&&(h.Xb(0,"section"),h.Dc(1,rn,1,2,"app-question",1),h.Dc(2,on,2,6,"app-final-page",2),h.Wb()),2&t){var n=h.jc();h.Eb(1),h.oc("ngIf",n.taskService.activeQuestionState===n.taskService.questionState.IN_PROGRESS),h.Eb(1),h.oc("ngIf",n.taskService.activeQuestionState!=n.taskService.questionState.IN_PROGRESS)}}var an,un,ln,gn=[{path:"",component:Ct,data:{animation:"dashboard"}},{path:":id",component:(an=function(){function t(e,n,i){_classCallCheck(this,t),this.route=e,this.router=n,this.taskService=i,this.ngUnsubscribe$=new a.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.paramMap.pipe(Object(Ot.a)((function(t){return t.getAll("id")}))).subscribe((function(e){return t.taskService.getTask$(e)}))}},{key:"onQuestionStateChange",value:function(t){this.questionState=t,this.taskService.activeQuestionState=t.state,this.taskService.activeQuestionState===A.EXIT&&this.setQuestionState(Xt.EXIT)}},{key:"setQuestionState",value:function(t){var e,n=this,i=function(){var t;n.taskService.pointsList.push(n.questionState.points);var e=n.taskService.pointsList;return t=n.taskService.pointsList.sort((function(t,e){return e.gamePoint-t.gamePoint}))[0],{countPoints:e.length,maxPoint:t}};(e={},_defineProperty(e,Xt.NEXT_SUCCESS,(function(){var t=i(),e=t.countPoints,s=t.maxPoint;n.taskService.nextPointsInState(Object.assign(Object.assign({},s),{talentPoints:e>1?null:s.talentPoints,isMaxPoints:2*n.taskService.question.totalPoints==s.gamePoints})),n.taskService.nextQuestionInState()})),_defineProperty(e,Xt.NEXT_FAIL,(function(){var t=i(),e=t.countPoints,s=t.maxPoint;n.taskService.nextPointsInState(Object.assign(Object.assign({},s),{talentPoints:e>1?null:s.talentPoints,isMaxPoints:!1})),n.taskService.nextQuestionInState()})),_defineProperty(e,Xt.RETRY,(function(){n.taskService.pointsList.push(n.questionState.points),n.taskService.nextPointsInState(Object.assign(Object.assign({},n.questionState.points),{gamePoints:0}))})),_defineProperty(e,Xt.EXIT,(function(){var t=i(),e=t.countPoints,s=t.maxPoint;n.taskService.nextPointsInState(Object.assign(Object.assign({},s),{talentPoints:e>1?null:s.talentPoints})),n.taskService.nextQuestionInState(),n.router.navigate(["/"])})),e)[t](),this.taskService.activeQuestionState=A.IN_PROGRESS}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe$.next()}}]),t}(),an.\u0275fac=function(t){return new(t||an)(h.Rb(s.a),h.Rb(s.b),h.Rb(W))},an.\u0275cmp=h.Lb({type:an,selectors:[["app-task"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"question","questionNumber","activeQuestionState",4,"ngIf"],[3,"activeQuestionState","attemptCount","user","question","nextStep",4,"ngIf"],[3,"question","questionNumber","activeQuestionState"],[3,"activeQuestionState","attemptCount","user","question","nextStep"]],template:function(t,e){1&t&&h.Dc(0,cn,3,2,"section",0),2&t&&h.oc("ngIf",e.taskService.task)},directives:[i.k,sn,qt],pipes:[i.b],styles:["section[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;top:0;left:0}"]}),Object(r.a)([Object(o.e)(c.a.getUser)],an.prototype,"user$",void 0),an),data:{animation:"task"}}],pn=((un=function t(){_classCallCheck(this,t)}).\u0275mod=h.Pb({type:un}),un.\u0275inj=h.Ob({factory:function(t){return new(t||un)},imports:[[s.d.forChild(gn)],s.d]}),un),fn=n("PCNd"),bn=((ln=function t(){_classCallCheck(this,t)}).\u0275mod=h.Pb({type:ln}),ln.\u0275inj=h.Ob({factory:function(t){return new(t||ln)},providers:[W],imports:[[i.c,pn,ne.q,fn.a,ne.g]]}),ln)}}]);